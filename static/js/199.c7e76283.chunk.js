"use strict";(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[199],{6415:function(e,t,n){var r=n(6561),o=n(2791),i=(n(7811),n(3378),n(184));function a(e){var t=e.id,n=e.height,o=e.width;return Number(t)>20?(0,i.jsx)("img",{src:r.r2+"mintbox_boxLogo.webp",style:{height:n,width:o}}):(0,i.jsx)("img",{src:r.r2+"MintboxIcon".concat(t,".webp"),style:{height:n,width:o}})}t.Z=o.memo(a)},3378:function(e,t,n){n.d(t,{f3:function(){return i},i1:function(){return o}});var r=n(7811),o=function(e){switch(e){case 1:return"Super conservative";case 2:return"Conservative";case 3:return"Moderate";case 4:return"Aggressive";case 5:return"Super aggressive";case 6:return"Very aggressive";default:return""}},i=function(e){switch(e){case 1:return"#3395FF";case 2:return r.Z.getPropertyValue("--darkGreen");case 3:return r.Z.getPropertyValue("--gold");case 4:return r.Z.getPropertyValue("--internationalEquity");case 5:return"#FF5A5F";case 6:return r.Z.getPropertyValue("--highestRisk");default:return""}}},9757:function(e,t,n){n(2791);var r=n(7811),o=n(2919),i=n(184);t.Z=function(e){var t=e.fundConstituents,n=e.type,a=void 0===n?"":n,s=function(e){var n=[{name:"Indian Equity",color:r.Z.getPropertyValue("--indianEquity")},{name:"Gold",color:r.Z.getPropertyValue("--gold")},{name:"Foreign Equity",color:r.Z.getPropertyValue("--internationalEquity")},{name:"Debt",color:r.Z.getPropertyValue("--debt")},{name:"Cash",color:r.Z.getPropertyValue("--cash")},{name:"Silver",color:r.Z.getPropertyValue("--silver")}];if(t){var s=t.filter((function(t){return t.AssetClassId===e})),l=s.reduce((function(e,t){return Number(t.CurrentWeightage)+e}),0),u=n[e-1].name,c=n[e-1].color;return 0===s.length?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)(i.Fragment,{children:["only-constituents"===a?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)("div",{className:"header1dark",style:{display:"flex",gap:"4%",alignItems:"center",padding:"goal-recom"===a?"3% 0":"5% 0 1% 0",margin:"0 4%",borderBottom:"goal-recom"===a?"1px solid "+r.Z.getPropertyValue("--light"):"none"},children:["goal-recom"===a?(0,i.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:c}}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)("div",{style:{flex:1,color:c},className:"header1dark",children:u}),(0,i.jsxs)("div",{style:{padding:"0 4%",color:c},children:[Number(l).toFixed(1),"%"]})]}),"goal-recom"===a?(0,i.jsx)(i.Fragment,{}):s.map((function(e,t){return(0,i.jsxs)("div",{style:{display:"flex",padding:"3% 4%",borderBottom:"1px solid "+r.Z.getPropertyValue("--light")},children:[(0,i.jsxs)("div",{style:{flex:1,display:"flex",gap:"4%"},children:[(0,i.jsx)(o.Z,{amcName:e.AMCName,height:"24px",width:"24px"}),(0,i.jsx)("div",{className:"bodyTextDark",style:{flex:1},children:e.ETFName})]}),(0,i.jsxs)("div",{className:"header1dark",style:{padding:"0 4%"},children:[Number(e.CurrentWeightage).toFixed(1),"%"]})]},t)}))]})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:"flex",padding:"6% 4% 1% 4%"},children:[(0,i.jsx)("div",{className:"bodyTextLight",style:{flex:1},children:"Asset class/ETF"}),(0,i.jsxs)("div",{className:"bodyTextLight",children:["Allocation","portfolio"===a?"":"*"]})]}),s(1),s(2),s(3),s(4),s(5),s(6),"portfolio"===a?(0,i.jsx)(i.Fragment,{}):"goal-recom"===a?(0,i.jsx)("div",{className:"bodyTextLight",style:{padding:"4%"},children:"* Allocations are reviewed periodically to maximize the chances of achieving this goal."}):(0,i.jsx)("div",{className:"bodyTextLight",style:{padding:"4%"},children:"* Allocation will change in the future to adjust portfolio risk as per our proprietary investment logic."})]})}},199:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(1413),o=n(4165),i=n(5861),a=n(9439),s=n(8848),l=n(2791),u=n(6960),c=n(81),d=n(2102),p=n(7811),f=n(9657),x=n(4614),m=n(8617),h=n(71),v=n(7573),y=n(4561),g=n(6415),Z=n(9757),b=n(5803),j=n(6825),N=n(8778),k=n(184);function w(e){var t,n,w,C,I,A,S,P,F,D,T=l.useState(!0),M=(0,a.Z)(T,2),V=M[0],B=M[1],E=l.useState(!1),G=(0,a.Z)(E,2),O=G[0],R=G[1],q=l.useState({}),L=(0,a.Z)(q,2),X=L[0],J=L[1],U=l.useState({}),z=(0,a.Z)(U,2),H=z[0],Y=z[1],W=l.useState([]),_=(0,a.Z)(W,2),K=(_[0],_[1]),Q=l.useState({}),$=(0,a.Z)(Q,2),ee=$[0],te=$[1],ne=l.useState([]),re=(0,a.Z)(ne,2),oe=re[0],ie=re[1],ae=l.useState({}),se=(0,a.Z)(ae,2),le=(se[0],se[1]),ue=e.location.state.MINTBOXID,ce=e.location.state.FUNDDATA,de=null===X||void 0===X||null===(t=X.MintboxETF)||void 0===t?void 0:t.filter((function(e){return e.MintboxId===ue&&0===e.GoalId&&0!==e.MintboxETFBalance})).map((function(e){return e.CurrentWeightage=100*e.MintboxETFBalance/ce.MintboxBalance,e}));l.useEffect((function(){pe()}),[]);var pe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(!0);try{s.Z.get(s.Z.model.user).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(t.userData),e.next=3,fe(t.userData.id);case 3:return e.next=5,me(t.userData.id);case 5:return e.next=7,ve(t.userData.id);case 7:return e.next=9,xe(t.userData.id);case 9:return e.next=11,ye(t.userData.id);case 11:B(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){u.Am.error(t),B(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.Z.get(s.Z.model.portfolio).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var i,a,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=15;break}return e.next=3,c.Z.getPortfolio(t).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=13;break}return e.next=7,JSON.parse(i.data);case 7:return a=e.sent,l=a.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{}),console.log("Get portfolio API :",l),J(l),e.next=13,s.Z.model.portfolio,JSON.stringify(l);case 13:e.next=16;break;case 15:J(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.Z.get(s.Z.model.portfolioPerformance).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var i,a,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=15;break}return e.next=3,c.Z.getPortfolioPerformance(t).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=13;break}return e.next=7,JSON.parse(i.data);case 7:return a=e.sent,l=a.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{}),console.log("Get portfolioPerformance API :",l),Y(l),e.next=13,s.Z.set(s.Z.model.portfolioPerformance,JSON.stringify(l));case 13:e.next=16;break;case 15:Y(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.Z.get(s.Z.model.assetAllocation).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=12;break}return e.next=3,c.Z.getPortfolioAssetAllocation(t).then((function(e){return e}));case 3:if(!0!==(r=e.sent).type){e.next=10;break}return i=r.data,console.log("Get portfolio asset allocation API :",i),he(i),e.next=10,s.Z.set(s.Z.model.assetAllocation,JSON.stringify(i));case 10:e.next=13;break;case 12:he(n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e){var t=[{name:"Indian Equity",color:p.Z.getPropertyValue("--indianEquity")},{name:"Gold",color:p.Z.getPropertyValue("--gold")},{name:"US Equity",color:p.Z.getPropertyValue("--internationalEquity")},{name:"Debt",color:p.Z.getPropertyValue("--debt")},{name:"Cash",color:p.Z.getPropertyValue("--cash")},{name:"Silver",color:p.Z.getPropertyValue("--silver")}];e=e.filter((function(e){return e.MintboxId===ue}));var n=[],o=e.reduce((function(e,t){return e+t.AssetBalance}),0);0!==e.length&&t.forEach((function(t){var i=100*e.filter((function(e){return e.AssetClass===t.name})).reduce((function(e,t){return e+t.AssetBalance}),0)/o;i&&n.push((0,r.Z)((0,r.Z)({},t),{},{y:Number(i.toFixed(2))}))})),K(n)},ve=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.Z.get(s.Z.model.portfolioXirr).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var i,a,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=15;break}return e.next=3,c.Z.getPortfolioXIRR(t).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=13;break}return e.next=7,JSON.parse(i.data);case 7:return a=e.sent,l=a.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{}),console.log("Get portfolio XIRR API :",l),te(l),e.next=13,s.Z.set(s.Z.model.portfolioXirr,JSON.stringify(l));case 13:e.next=16;break;case 15:te(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.Z.get(s.Z.model.transactions).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=12;break}return e.next=3,c.Z.getTransactions(t).then((function(e){return e}));case 3:if(!0!==(r=e.sent).type){e.next=10;break}return i=r.data,console.log("Get transactions API :",i),ie(i),e.next=10,s.Z.set(s.Z.model.transactions,JSON.stringify(i));case 10:e.next=13;break;case 12:ie(n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.remove(s.Z.model.portfolio);case 2:return e.next=4,s.Z.remove(s.Z.model.portfolioXirr);case 4:return e.next=6,s.Z.remove(s.Z.model.portfolioPerformance);case 6:return e.next=8,s.Z.remove(s.Z.model.assetAllocation);case 8:return e.next=10,s.Z.remove(s.Z.model.transactions);case 10:pe();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=[{title:"Funds",view:function(){var t,n;return(0,k.jsx)("div",{style:{marginTop:"2%"},children:null===X||void 0===X||null===(t=X.MintboxETF)||void 0===t||null===(n=t.filter((function(e){return e.MintboxId===ue&&0===e.GoalId&&0!==e.MintboxETFBalance})))||void 0===n?void 0:n.map((function(t){var n,r,o;return(0,k.jsx)(v.Z,{onClick:function(){return e.history.push({pathname:"/portfolio/etfScreen",state:{FUNDCODE:t.FundCode,MINTBOXID:ue,TYPE:"MintboxETF",FUNDDATA:t}})},fundName:t.ETFName,AMCName:t.AMCName,balance:t.MintboxETFBalance,previousBalance:null===X||void 0===X||null===(n=X.PrevMintboxETF)||void 0===n||null===(r=n.find((function(e){return e.MintboxId===ue&&e.FundCode===t.FundCode})))||void 0===r?void 0:r.PrevMintboxETFBalance,xirr:null===(o=Object.values((null===ee||void 0===ee?void 0:ee.MintboxETFXIRR)||{}).find((function(e){return e.MintboxId===ue&&e.FundCode===t.FundCode})))||void 0===o?void 0:o.XIRR,type:1},t.FundCode)}))})}()},{title:"Allocation",view:(0,k.jsx)(Z.Z,{fundConstituents:de,type:"portfolio"})},{title:"SIPs",view:(0,N.Z)({navigation:e.history,TYPE:3,FUNDCODE:ue,FUNDDATA:ce})},{title:"Transactions",view:(0,k.jsx)("div",{style:{marginTop:"2%"},children:oe.filter((function(e){return 1===e.FundType&&e.MintboxId===ue})).reverse().map((function(e,t){return(0,k.jsx)(b.Z,{trx:e,i:t,type:3})}))})}],be=function(){var t=l.useState(),n=(0,a.Z)(t,2),r=n[0],o=n[1];return(0,k.jsxs)(j.Z,{className:"bottom-drawer",show:O,onHide:function(){return R(!1)},keyboard:!1,children:[(0,k.jsxs)(j.Z.Body,{children:[(0,k.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,k.jsx)("input",{type:"radio",name:"fund",onChange:function(e){o(e.target.value)},value:"sip",id:"sip"}),(0,k.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"sip",children:"Start a SIP"})]}),(0,k.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,k.jsx)("input",{type:"radio",name:"fund",onChange:function(e){o(e.target.value)},value:"redeem",id:"redeem"}),(0,k.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"redeem",style:{color:p.Z.getPropertyValue("--peach")},children:"Redeem"})]})]}),(0,k.jsxs)(j.Z.Footer,{children:[(0,k.jsx)("button",{className:"outlineButton",onClick:function(){return R(!1)},children:"Close"}),(0,k.jsx)("button",{className:"solidButton",onClick:function(){return function(){switch(r){case"redeem":e.history.push({pathname:"/portfolio/redeem-mintbox",state:{fundData:ce,constituents:de}}),R(!1);break;case"sip":R(!1),e.history.push({pathname:"/portfolio/confirm-invest",state:{fundData:ce,type:3,sip:!0}});break;default:R(!1)}}()},children:"Confirm"})]})]})};return V?(0,k.jsx)(y.Z,{}):(0,k.jsxs)("div",{className:"mainContainer",children:[(0,k.jsx)(d.Z,{navigation:e.history,header:"mintbox"}),(0,k.jsxs)("div",{className:"dataContainer px-0",children:[(0,k.jsx)("div",{style:{margin:"4% 4% 2%"},children:(0,k.jsxs)("div",{style:{display:"flex",gap:"4%"},children:[(0,k.jsx)(g.Z,{id:null===(n=X.MintboxConsolidated)||void 0===n||null===(w=n.find((function(e){return e.MintboxId===ue})))||void 0===w?void 0:w.MintboxId,width:"40px",height:"40px"}),(0,k.jsx)("div",{className:"header1dark",style:{flex:1},children:null===ce||void 0===ce?void 0:ce.MintboxName}),(0,k.jsx)(m.Hi9,{size:24,className:"secondaryGreen",onClick:function(){return e.history.push("/mintbox-detail/"+ue)},style:{alignSelf:"center"}})]})}),(0,k.jsx)(x.Z,{navigation:e.history,balance:null===(C=X.MintboxConsolidated)||void 0===C||null===(I=C.find((function(e){return e.MintboxId===ue&&0===e.GoalId})))||void 0===I?void 0:I.MintboxBalance,previousBalance:null===(A=X.PrevMintboxConsolidated)||void 0===A||null===(S=A.find((function(e){return e.MintboxId===ue&&0===e.GoalId})))||void 0===S?void 0:S.PrevMintboxBalance,xirr:null===(P=Object.values((null===ee||void 0===ee?void 0:ee.MintboxXIRR)||{}).find((function(e){return e.MintboxId===ue&&0===e.GoalId})))||void 0===P?void 0:P.XIRR,onRefresh:function(){ge()},growthChartData:null===H||void 0===H||null===(F=H.Mintbox)||void 0===F||null===(D=F.filter((function(e){return e.MintboxId===ue})))||void 0===D?void 0:D.map((function(e){return[new Date(e.NavDateStr).getTime(),e.Balance]}))}),(0,k.jsx)(f.Z,{tabsObject:Ze,color:p.Z.getPropertyValue("--darkGreen")})]}),(0,k.jsxs)("div",{className:"bottom-nav",children:[(0,k.jsxs)("div",{className:"bn-tab",onClick:function(){e.history.push("/dashboard")},children:[(0,k.jsx)(m.VRM,{size:20,className:"footerIcon"}),(0,k.jsx)("div",{className:"footerText",children:"Home"})]}),(0,k.jsx)("div",{className:"bn-tab",style:{flex:3},children:(0,k.jsx)("button",{className:"solidButton",onClick:function(){return e.history.push({pathname:"/portfolio/confirm-invest",state:{fundData:ce,type:3}})},children:"Invest more"})}),(0,k.jsx)("div",{className:"bn-tab",children:(0,k.jsx)(h.bwG,{size:"48",color:p.Z.getPropertyValue("--secondaryGreen"),onClick:function(){return R(!0)}})})]}),(0,k.jsx)(be,{})]})}},7573:function(e,t,n){n(2791);var r=n(3411),o=n(8820),i=n(6415),a=n(5963),s=n(7811),l=n(2919),u=n(184);t.Z=function(e){var t=e.fundName,n=e.mintboxId,c=void 0===n?1:n,d=e.AMCName,p=e.balance,f=void 0===p?0:p,x=e.previousBalance,m=void 0===x?0:x,h=e.xirr,v=void 0===h?0:h,y=(e.goalName,e.onClick),g=e.type,Z=void 0===g?3:g,b=0,j=0;return 0!==m&&""!==m&&(j=100*(b=f-m)/m),(0,u.jsxs)("div",{style:{padding:"4%",borderBottom:"1px solid "+s.Z.getPropertyValue("--light"),display:"flex",gap:"4%"},onClick:function(){return y()},children:[1===Z||2===Z?(0,u.jsx)(l.Z,{amcName:d,height:"40px",width:"40px"}):(0,u.jsx)(i.Z,{id:c,height:"40px",width:"40px"}),(0,u.jsxs)("div",{style:{flex:"1"},children:[(0,u.jsx)("div",{className:"header2dark",style:{marginBottom:"2%"},children:t}),(0,u.jsxs)("div",{className:"smallTextLight",children:[(0,u.jsx)("span",{children:"1 Day "}),b>0?(0,u.jsxs)("span",{style:{color:s.Z.getPropertyValue("--secondaryGreen")},children:[(0,u.jsx)(o.Vs3,{size:20,style:{verticalAlign:"bottom"}})," ",(0,r.A)(b,"long",2)," (",j.toFixed(2),"%)"]}):b<0?(0,u.jsxs)("span",{style:{color:s.Z.getPropertyValue("--red")},children:[(0,u.jsx)(o.i0B,{size:20,style:{verticalAlign:"bottom"}})," ",(0,r.A)(b,"long",2)," (",j.toFixed(2),"%)"]}):(0,u.jsxs)("span",{children:[" ",(0,r.A)(b,"long",2)," (",j,"%)"]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"header2dark",style:{marginBottom:"4px"},children:[(0,r.A)(f,"short"),(0,u.jsx)(o.Td4,{size:14,className:"secondaryGreen",style:{marginLeft:"4px"}})]}),(0,u.jsx)("div",{className:"bodyTextLight",children:(0,u.jsx)(a.Z,{text:v.toFixed(2)+"%",value:v})})]})]})}},8778:function(e,t,n){var r=n(1413),o=n(4165),i=n(5861),a=n(9439),s=n(8848),l=n(2791),u=n(6825),c=n(2373),d=n(8820),p=n(9126),f=n(6960),x=n(81),m=n(4561),h=n(3411),v=n(1974),y=n(7811),g=n(4982),Z=n(184);t.Z=function(e){var t=e.navigation,n=e.TYPE,b=e.FUNDCODE,j=e.GOALID,N=void 0===j?0:j,k=e.FUNDDATA,w=l.useState({}),C=(0,a.Z)(w,2),I=C[0],A=C[1],S=l.useState([]),P=(0,a.Z)(S,2),F=P[0],D=P[1],T=l.useState(!1),M=(0,a.Z)(T,2),V=M[0],B=M[1],E=l.useState(!1),G=(0,a.Z)(E,2),O=G[0],R=G[1],q=l.useState(!1),L=(0,a.Z)(q,2),X=L[0],J=L[1],U=l.useState(!1),z=(0,a.Z)(U,2),H=z[0],Y=z[1],W=l.useState(!0),_=(0,a.Z)(W,2),K=_[0],Q=_[1],$=l.useState(0),ee=(0,a.Z)($,2),te=ee[0],ne=ee[1];l.useEffect((0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(k),1===n?ne((null===k||void 0===k?void 0:k.NAV)>500?1.2*(null===k||void 0===k?void 0:k.NAV):500):3===n&&ne(null===k||void 0===k?void 0:k.MinSIPAmount),e.next=4,re();case 4:case"end":return e.stop()}}),e)}))),[]),l.useEffect((function(){4===n&&ne(I.Amount+1)}),[I]);var re=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s.Z.get(s.Z.model.user).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t.userData.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){f.Am.error(t),Q(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get(s.Z.model.portfolio).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(i){var a,l,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i){e.next=18;break}return e.next=3,x.Z.getPortfolio(t).then((function(e){return e}));case 3:if(!0!==(a=e.sent).type){e.next=16;break}return e.next=7,JSON.parse(a.data);case 7:return l=e.sent,e.next=10,l.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{});case 10:return u=e.sent,console.log("Get portfolio API :",u),e.next=14,s.Z.set(s.Z.model.portfolio,JSON.stringify(u));case 14:D(3===n?u.ScheduledOrders.filter((function(e){return e.MintboxId===b&&0===e.GoalId})):4===n?u.ScheduledOrders.filter((function(e){return e.GoalId===N})):u.ScheduledOrders.filter((function(e){return e.ToFundCode===b}))),Q(!1);case 16:e.next=20;break;case 18:D(3===n?i.ScheduledOrders.filter((function(e){return e.MintboxId===b&&0===e.GoalId})):4===n?i.ScheduledOrders.filter((function(e){return e.GoalId===N})):i.ScheduledOrders.filter((function(e){return e.ToFundCode===b}))),Q(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),r={uid:I.UID,fromFundCode:I.FromFundCode,toFundCode:"toFundCode"===t?n:I.ToFundCode,amount:"amount"===t?n:I.Amount,units:"units"===t?n:I.Units,orderDate:"orderDate"===t?n:I.OrderDate,isActive:"isActive"===t?n:I.IsActive,isDeleted:"isDeleted"===t?n:I.IsDeleted},e.next=4,x.Z.updateScheduledOrders(r).then((function(e){return e}));case 4:if(!e.sent.type){e.next=12;break}return f.Am.success("SIP updated"),s.Z.remove(s.Z.model.portfolio),e.next=10,re();case 10:e.next=13;break;case 12:f.Am.error("Something went wrong! Try again.");case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=l.useState(),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsxs)(u.Z,{className:"bottom-drawer",show:V,onHide:function(){return B(!1)},keyboard:!1,children:[(0,Z.jsxs)(u.Z.Body,{children:[1===I.IsActive&&0===I.IsDeleted?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,Z.jsx)("input",{type:"radio",name:"fund",onChange:function(e){r(e.target.value)},value:"editAmount",id:"editAmount"}),(0,Z.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"editAmount",children:"Edit SIP amount"})]}),(0,Z.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,Z.jsx)("input",{type:"radio",name:"fund",onChange:function(e){r(e.target.value)},value:"editDate",id:"editDate"}),(0,Z.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"editDate",children:"Edit SIP date"})]})]}):(0,Z.jsx)(Z.Fragment,{}),0===I.IsDeleted?(0,Z.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,Z.jsx)("input",{type:"radio",name:"fund",onChange:function(e){r(e.target.value)},value:"pauseSip",id:"pauseSip"}),(0,Z.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"pauseSip",children:1===I.IsActive?"Pause SIP":"Resume SIP"})]}):(0,Z.jsx)(Z.Fragment,{}),(0,Z.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,Z.jsx)("input",{type:"radio",name:"fund",onChange:function(e){r(e.target.value)},value:"stopSip",id:"stopSip"}),(0,Z.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"stopSip",style:{color:0===I.IsDeleted?y.Z.getPropertyValue("--peach"):y.Z.getPropertyValue("--secondaryGreen")},children:0===I.IsDeleted?"Stop SIP":"Restart SIP"})]})]}),(0,Z.jsxs)(u.Z.Footer,{children:[(0,Z.jsx)("button",{className:"outlineButton",onClick:function(){return B(!1)},children:"Close"}),(0,Z.jsx)("button",{className:"solidButton",onClick:function(){return function(){switch(n){case"editAmount":B(!1),R(!0);break;case"editDate":B(!1),J(!0);break;case"pauseSip":B(!1),ie("isActive",1===I.IsActive?0:1);break;case"stopSip":B(!1),Y(!0);break;default:B(!1)}}()},children:"Confirm"})]})]})},se=function(){return(0,Z.jsxs)(u.Z,{className:"bottom-drawer",show:H,onHide:function(){return Y(!1)},children:[(0,Z.jsx)(u.Z.Body,{children:(0,Z.jsxs)("div",{className:"header1dark",children:["Are your sure you want to ",1===I.IsDeleted?"restart":"stop"," SIP in ",1===n?null===k||void 0===k?void 0:k.ETFName:2===n?null===k||void 0===k?void 0:k.SchemeName:null===k||void 0===k?void 0:k.MintboxName,"?"]})}),(0,Z.jsxs)(u.Z.Footer,{children:[(0,Z.jsx)("button",{className:"outlineButton",onClick:function(){return Y(!1)},children:"Close"}),(0,Z.jsx)("button",{className:"solidButton",onClick:function(){ie("isDeleted",1===I.IsDeleted?0:1),Y(!1)},children:"Confirm"})]})]})},le=function(){var e=l.useState(),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsxs)(u.Z,{className:"bottom-drawer",show:O,onHide:function(){return R(!1)},children:[(0,Z.jsxs)(u.Z.Body,{children:[(0,Z.jsx)("div",{className:"header1dark",children:"Edit monthly SIP amount"}),(0,Z.jsxs)("div",{className:"smallTextDark",style:{marginTop:"2%"},children:["Current SIP ",(0,h.A)(I.Amount)," | Min required ",(0,h.A)(Number(te))]}),(0,Z.jsx)(c.Z,{className:"normalInput rupee",id:"editSip",name:"editSip",placeholder:"20,000",value:n,allowDecimals:!1,allowNegativeValue:!1,disableAbbreviations:!1,prefix:" ",intlConfig:{locale:"en-IN",currency:"INR"},onValueChange:function(e){return r(Number(e)||"")}})]}),(0,Z.jsxs)(u.Z.Footer,{children:[(0,Z.jsx)("button",{className:"outlineButton",onClick:function(){return R(!1)},children:"Close"}),(0,Z.jsx)("button",{className:"solidButton",style:{opacity:""!==n&&Number(n)>=Number(te)?1:.4},onClick:function(){""!==n&&Number(n)>=Number(te)&&(ie("amount",Number(n)),R(!1))},children:"Confirm"})]})]})},ue=function(){var e=l.useState(I.OrderDate),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsxs)(u.Z,{className:"bottom-drawer",show:X,onHide:function(){return J(!1)},keyboard:!1,children:[(0,Z.jsxs)(u.Z.Body,{children:[(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",paddingTop:"20px"},children:[1,2,3,4,5,6,7].map((function(e){return(0,Z.jsx)("div",{onClick:function(){return r(e)},style:{border:"1px solid #e5e5e5",borderRadius:"32px",height:"32px",width:"32px",textAlign:"center",paddingTop:"2px",color:e===n?"#ffffff":"#6c6c6c",background:e===n?y.Z.getPropertyValue("--darkGreen"):"transparent"},children:e},e)}))}),(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",paddingTop:"20px"},children:[8,9,10,11,12,13,14].map((function(e){return(0,Z.jsx)("div",{onClick:function(){return r(e)},style:{border:"1px solid #e5e5e5",borderRadius:"32px",height:"32px",width:"32px",textAlign:"center",paddingTop:"2px",color:e===n?"#ffffff":"#6c6c6c",background:e===n?y.Z.getPropertyValue("--darkGreen"):"transparent"},children:e},e)}))}),(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",paddingTop:"20px"},children:[15,16,17,18,19,20,21].map((function(e){return(0,Z.jsx)("div",{onClick:function(){return r(e)},style:{border:"1px solid #e5e5e5",borderRadius:"32px",height:"32px",width:"32px",textAlign:"center",paddingTop:"2px",color:e===n?"#ffffff":"#6c6c6c",background:e===n?y.Z.getPropertyValue("--darkGreen"):"transparent"},children:e},e)}))}),(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",paddingTop:"20px"},children:[22,23,24,25,26,27,28].map((function(e){return(0,Z.jsx)("div",{onClick:function(){return r(e)},style:{border:"1px solid #e5e5e5",borderRadius:"32px",height:"32px",width:"32px",textAlign:"center",paddingTop:"2px",color:e===n?"#ffffff":"#6c6c6c",background:e===n?y.Z.getPropertyValue("--darkGreen"):"transparent"},children:e},e)}))})]}),(0,Z.jsxs)(u.Z.Footer,{children:[(0,Z.jsx)("button",{className:"outlineButton",onClick:function(){return J(!1)},children:"Close"}),(0,Z.jsx)("button",{className:"solidButton",onClick:function(){n!==I.OrderDate&&ie("orderDate",n),J(!1)},children:"Confirm"})]})]})};return K?(0,Z.jsx)(m.Z,{}):(0,Z.jsxs)("div",{style:{marginTop:"2%"},children:[0===(null===F||void 0===F?void 0:F.length)?(0,Z.jsx)(g.Z,{text:"You don't have any active SIPs",buttonText:"Start SIP now",onClick:function(){1===n?t.push({pathname:"/portfolio/confirm-invest",state:{fundData:(0,r.Z)((0,r.Z)({},k),{},{MinSIPAmount:k.NAV}),type:n,sip:!0}}):t.push({pathname:"/portfolio/confirm-invest",state:{fundData:k,type:n,sip:!0}})}}):null===F||void 0===F?void 0:F.map((function(e,t){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{style:{padding:"4%",borderBottom:"1px solid "+y.Z.getPropertyValue("--light")},children:[(0,Z.jsxs)("div",{className:"chip-sip",style:{marginBottom:"1%"},children:[(0,Z.jsx)(p.riV,{size:24,color:1===e.IsDeleted?y.Z.getPropertyValue("--red"):0===e.IsActive?y.Z.getPropertyValue("--gold"):y.Z.getPropertyValue("--secondaryGreen"),style:{marginLeft:"-10px"}}),1===e.IsDeleted?"Stopped":0===e.IsActive?"Paused":"Active"]}),(0,Z.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Z.jsxs)("div",{style:{flex:1},children:[(0,Z.jsxs)("div",{className:"smallTextLight",style:{marginBottom:"1%"},children:[(0,v.Z)(e.OrderDate)," of every ",3===e.Frequency?"three":6===e.Frequency?"six":1===e.Frequency?"twelve":""," month(s)"]}),(0,Z.jsx)("div",{className:"header1dark",children:(0,h.A)(e.Amount)})]}),(0,Z.jsxs)("div",{className:"header2dark secondaryGreen",onClick:function(){A(e),B(!0)},children:["Modify ",(0,Z.jsx)(d.cuw,{size:12})]})]})]},t)})})),(0,Z.jsx)(ae,{}),(0,Z.jsx)(ue,{}),(0,Z.jsx)(le,{}),(0,Z.jsx)(se,{})]})}}}]);
//# sourceMappingURL=199.c7e76283.chunk.js.map