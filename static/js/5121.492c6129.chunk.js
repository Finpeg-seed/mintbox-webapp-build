/*! For license information please see 5121.492c6129.chunk.js.LICENSE.txt */
(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[5121],{8213:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(9439),a=t(2791),i=t(8820),s=t(184);function o(e){e.style;var n=e.totalTime,t=e.onClick,o=e.dir,c=n,u=a.useState("00"),l=(0,r.Z)(u,2),f=l[0],d=l[1],p=a.useState("00"),v=(0,r.Z)(p,1)[0],m=function(e){return(e/=1e3)>=0?(e>60&&(e="00"),e<=9&&(e="0".concat(e)),e):"00"};a.useEffect((function(){d(m(c)),h()}),[]);var h=function(){setInterval((function(){c>=0&&("down"===o&&(c-=1e3),"up"===o&&(c+=1e3),d(m(c)))}),1e3)};return"00:00"!=="".concat(v,":").concat(f)?(0,s.jsxs)("div",{style:{fontSize:"14px",fontWeight:"400",color:"#333333",marginTop:"6%"},children:["Resend in ","".concat(v,":").concat(f)]}):(0,s.jsxs)("div",{className:"header2dark secondaryGreen",style:{marginTop:"6%"},onClick:function(){setInterval((function(){c>=0&&("down"===o&&(c-=1e3),"up"===o&&(c+=1e3),d(m(c)))}),1e3),t()},children:["Resend OTP ",(0,s.jsx)(i.Td4,{style:{verticalAlign:"unset"},size:10})]})}},5121:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(1413),a=t(4165),i=t(5861),s=t(9439),o=t(2791),c=t(4849),u=t(8820),l=t(6960),f=t(9811),d=t(81),p=t(8213),v=t(7784),m=t(629),h=t(8848),x=t(184);function y(e){var n=o.useState(""),t=(0,s.Z)(n,2),y=t[0],g=t[1],Z=o.useState(!1),b=(0,s.Z)(Z,2),j=b[0],N=b[1],k=o.useState(""),T=(0,s.Z)(k,2),C=T[0],S=T[1],w=o.useState(!1),A=(0,s.Z)(w,2),P=A[0],O=A[1],E=e.location.state;o.useEffect((0,i.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null===E||void 0===E?e.history.push("/signup"):z();case 1:case"end":return n.stop()}}),n)}))),[]);var I=function(){return 6===y.length},z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(""),e.next=4,d.Z.generateOTP("EMAIL"===E.verify?E.email:E.mobile,E.verify).then((function(e){return e}));case 4:(n=e.sent).type&&"success"===n.data.Result?S(n.data.otpcode):l.Am.error("Try again ..."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.Am.error("Try again ...");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(){var t,i,s,o,c=arguments;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",O(!0),i={mobileNumber:t,email:E.email,clientName:E.name,source:m.vO+":"+m.KC+":"+("none"===m.N7?m.BF:m.N7)+":"+m.MM},n.prev=3,n.next=6,d.Z.createUser(i).then((function(e){return e}));case 6:(s=n.sent).type&&"success"===s.data.Result?(o={name:E.name,email:E.email,mobile:t,id:s.data.ClientId,isLogged:!0},h.Z.set(h.Z.model.user,JSON.stringify({userData:o})),e.history.push({pathname:"/dashboard",state:(0,r.Z)({},E)}),O(!1)):(l.Am.error("Try again ..."),O(!1)),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(3),l.Am.error("Try again ..."),O(!1);case 14:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(){return n.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"mainContainer",children:["EMAIL"===E.verify?(0,x.jsx)(v.Z,{navigation:e.history,left:"login"}):(0,x.jsx)(v.Z,{navigation:e.history,left:"login",right:"skip",onSkip:M}),(0,x.jsxs)("div",{className:"dataContainer",children:[(0,x.jsxs)("div",{className:"login-header",children:[(0,x.jsx)("div",{className:"bigHeader",children:"Almost there!"}),(0,x.jsxs)("div",{className:"bodyTextDark",style:{marginTop:"6px"},children:["Please enter the OTP received on ",(0,x.jsx)("span",{className:"underlineGreen",children:"EMAIL"===E.verify?E.email:E.mobile})]})]}),(0,x.jsx)(f.Z,{type:"tel",id:"typepass",label:"OTP",style:{letterSpacing:"16px"},autoFocus:!0,onChange:function(e){N(!1);var n=e.target.value.replace(/\D/g,"");g(n)},value:y,maxLength:6}),j?(0,x.jsx)("div",{className:"errorMsg",children:"Incorrect OTP. Try again!"}):"",(0,x.jsx)(p.Z,{totalTime:3e4,dir:"down",onClick:function(){N(!1),g(""),z()}})]}),(0,x.jsx)("div",{className:"login-footer",children:P?(0,x.jsx)("button",{className:"solidButton",style:{opacity:.4},children:(0,x.jsx)(c.Z,{style:{color:"#fff"},as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):(0,x.jsxs)("button",{className:"solidButton",style:{opacity:I()?1:.4},onClick:function(){I()&&(y==="".concat(C)&&""!==C?M(E.mobile):N(!0))},children:["Verify ",(0,x.jsx)(u.Td4,{size:12})]})})]})}},1694:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var i=typeof t;if("string"===i||"number"===i)e.push(t);else if(Array.isArray(t)){if(t.length){var s=a.apply(null,t);s&&e.push(s)}}else if("object"===i)if(t.toString===Object.prototype.toString)for(var o in t)r.call(t,o)&&t[o]&&e.push(o);else e.push(t.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(n,[]))||(e.exports=t)}()},4849:function(e,n,t){"use strict";var r=t(1413),a=t(5987),i=t(1694),s=t.n(i),o=t(2791),c=t(162),u=t(184),l=["bsPrefix","variant","animation","size","as","className"],f=o.forwardRef((function(e,n){var t=e.bsPrefix,i=e.variant,o=e.animation,f=e.size,d=e.as,p=void 0===d?"div":d,v=e.className,m=(0,a.Z)(e,l);t=(0,c.vE)(t,"spinner");var h="".concat(t,"-").concat(o);return(0,u.jsx)(p,(0,r.Z)((0,r.Z)({ref:n},m),{},{className:s()(v,h,f&&"".concat(h,"-").concat(f),i&&"text-".concat(i))}))}));f.displayName="Spinner",n.Z=f},162:function(e,n,t){"use strict";t.d(n,{SC:function(){return o},vE:function(){return s}});var r=t(2791),a=(t(184),["xxl","xl","lg","md","sm","xs"]),i=r.createContext({prefixes:{},breakpoints:a});i.Consumer,i.Provider;function s(e,n){var t=(0,r.useContext)(i).prefixes;return e||t[n]||n}function o(){return"rtl"===(0,r.useContext)(i).dir}}}]);
//# sourceMappingURL=5121.492c6129.chunk.js.map