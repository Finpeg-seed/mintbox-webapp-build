"use strict";(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[7399],{2633:function(e,t,n){n.r(t);var r=n(4165),i=n(5861),o=n(9439),a=n(2791),s=n(6960),c=n(2102),u=n(7811),l=n(8848),d=n(81),p=n(9126),f=n(6825),x=n(8820),h=n(3800),m=n(184);t.default=function(e){var t=a.useState(),n=(0,o.Z)(t,2),v=n[0],y=n[1],b=a.useState([]),Z=(0,o.Z)(b,2),g=Z[0],k=Z[1],j=a.useState(""),E=(0,o.Z)(j,2),w=E[0],N=E[1],T=a.useState({}),C=(0,o.Z)(T,2),I=C[0],M=C[1],S=a.useState(!1),A=(0,o.Z)(S,2),F=A[0],O=A[1],V=e.location.state.minInv;a.useEffect((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:case"end":return e.stop()}}),e)}))),[]);var P=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get(l.Z.model.user).then((function(e){M(e.userData),console.log("user: ",e.userData)}));case 3:return e.next=5,l.Z.get(l.Z.model.createMintbox).then((function(e){null!==e&&void 0!==e&&e.selectedETFs&&k(e.selectedETFs),null!==e&&void 0!==e&&e.mintboxName&&y(e.mintboxName||""),null!==e&&void 0!==e&&e.rebalanceFrequency&&N(e.rebalanceFrequency)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.Am.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={mintboxName:t},e.next=3,l.Z.get(l.Z.model.createMintbox).then(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t?Object.assign(t,n):t=n,e.next=3,l.Z.set(l.Z.model.createMintbox,JSON.stringify(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n){var i,o,a,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.type,!((null===v||void 0===v?void 0:v.length)<2)){t.next=3;break}return t.abrupt("return");case 3:return D(v),o=g.map((function(e){return{fundCode:e.Symbol,indexId:e.IndexId,assetId:e.MintboxAssetId,weightage:Number(e.allocation),CurrentWeightage:Number(e.allocation)}})),a={clientId:I.id,name:v,description:"My custom mintbox",risk:1,duration:1,minInvestment:V,xirr:0,constituents:o,rebalanceFrequency:w,videoLink:"",fee:"0"},console.log("CREATE MINTBOX API",a),t.next=9,d.Z.createMintbox(a).then((function(e){return JSON.stringify(e)}));case 9:return c=t.sent,t.next=12,JSON.parse(c);case 12:if(!0!==(c=t.sent).type){t.next=32;break}if("Success"!==c.data.Result){t.next=29;break}if(console.log("Mintbox created",c.data),2!==i){t.next=20;break}e.history.push({pathname:"/portfolio/confirm-invest",state:{fundData:{MintboxId:c.data.MintboxId,MintboxName:v,RiskLevel:1,MinSIPAmount:V,Constituents:o},type:3}}),t.next=27;break;case 20:if(1!==i){t.next=27;break}return console.log(c.data),u={clientId:I.id,fundType:3,fundCode:c.data.MintboxId+"",isActive:1},t.next=25,d.Z.updateWatchlist(u).then((function(e){return e}));case 25:t.sent.type&&(s.Am.success("You are now tracking this mintbox"),e.history.push("/dashboard"));case 27:t.next=30;break;case 29:s.Am.error(c.data);case 30:t.next=33;break;case 32:s.Am.error();case 33:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{style:{position:"fixed",bottom:"70px",width:"100%",backgroundColor:u.Z.getPropertyValue("--white"),textAlign:"center"},children:[(0,m.jsxs)("div",{className:"bodyTextDark secondaryGreen",onClick:function(){return O(!0)},style:{borderTop:"1px solid "+u.Z.getPropertyValue("--light"),padding:"3% 4%"},children:["Historical performance ",(0,m.jsx)(p.hrr,{size:14,style:{margin:"5px"}})]}),(0,m.jsxs)("div",{className:"bodyTextLight",style:{borderTop:"1px solid "+u.Z.getPropertyValue("--light"),padding:"2% 4%"},children:["Min investment ",(0,m.jsxs)("b",{style:{color:"#333333"},children:["\u20b9 ",Number(V).toFixed(2)]})]})]}),(0,m.jsxs)("div",{className:"footer",style:{gap:"4%"},children:[(0,m.jsxs)("div",{style:{flex:1},children:[(0,m.jsx)("div",{className:"bodyTextDark",children:"Track this mintbox"}),(0,m.jsxs)("div",{className:"header3dark secondaryGreen",style:{opacity:(null===v||void 0===v?void 0:v.length)>=2?1:.4},onClick:function(){return R({type:1})},children:["Add to watchlist ",(0,m.jsx)(x.Td4,{size:10,style:{marginTop:"1%"}})]})]}),(0,m.jsx)("div",{style:{flex:1},children:(0,m.jsx)("button",{className:"solidButton",style:{opacity:(null===v||void 0===v?void 0:v.length)>=2?1:.4},onClick:function(){R({type:2})},children:"Invest Now"})})]})]})},W=function(){return(0,m.jsxs)(f.Z,{className:"bottom-drawer",show:F,onHide:function(){return O(!1)},keyboard:!1,children:[(0,m.jsx)(f.Z.Body,{style:{maxHeight:"80vh",overflow:"scroll",padding:"0"},children:(0,m.jsx)(h.Z,{etfs:g,type:4,fundCode:1,rebalanceFreq:1===w?"Q":2===w?"6M":3===w?"Y":4!==w&&"Q"})}),(0,m.jsx)(f.Z.Footer,{children:(0,m.jsx)("button",{className:"outlineButton",onClick:function(){return O(!1)},children:"Close"})})]})};return(0,m.jsxs)("div",{className:"mainContainer",children:[(0,m.jsx)(c.Z,{header:"Build your own mintbox",navigation:e.history}),(0,m.jsxs)("div",{className:"dataContainer",style:{paddingTop:"2%"},children:[(0,m.jsx)("div",{className:"header1dark",style:{marginTop:"4%"},children:"Woohoo! You just built a mintbox \ud83e\udd41"}),(0,m.jsx)("div",{className:"bodyTextDark",style:{marginTop:"4%",fontSize:"16px"},children:"What would you like to call it?"}),(0,m.jsx)("div",{style:{marginTop:"6%"},children:(0,m.jsx)("input",{className:"normalInput",type:"text",maxLength:20,placeholder:"My wealth box",id:"Full-name",value:v,onChange:function(e){return y(e.target.value)}})})]}),(0,m.jsx)(W,{}),(0,m.jsx)(B,{})]})}},5660:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(3366),i=n(7462),o=n(7326),a=n(4578),s=n(2791),c=n(5545);function u(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),n}function l(e,t,n){return null!=n[t]?n[t]:e.props[t]}function d(e,t,n){var r=u(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];s[i[c][r]]=n(u)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if((0,s.isValidElement)(a)){var c=o in t,u=o in r,d=t[o],p=(0,s.isValidElement)(d)&&!d.props.in;!u||c&&!p?u||!c||p?u&&c&&(0,s.isValidElement)(d)&&(i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:l(a,"exit",e),enter:l(a,"enter",e)})):i[o]=(0,s.cloneElement)(a,{in:!1}):i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:l(a,"exit",e),enter:l(a,"enter",e)})}})),i}var p=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,o.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,u(n.children,(function(e){return(0,s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:l(e,"appear",n),enter:l(e,"enter",n),exit:l(e,"exit",n)})}))):d(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=u(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,i.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=(0,r.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=p(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?s.createElement(c.Z.Provider,{value:o},a):s.createElement(c.Z.Provider,{value:o},s.createElement(t,i,a))},t}(s.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var x=f},9199:function(e,t,n){function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},3433:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=7399.8e9e82c2.chunk.js.map