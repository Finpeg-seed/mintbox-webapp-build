"use strict";(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[3776],{8213:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(9439),i=t(2791),r=t(8820),s=t(184);function c(e){e.style;var n=e.totalTime,t=e.onClick,c=e.dir,o=n,l=i.useState("00"),u=(0,a.Z)(l,2),d=u[0],f=u[1],p=i.useState("00"),m=(0,a.Z)(p,1)[0],h=function(e){return(e/=1e3)>=0?(e>60&&(e="00"),e<=9&&(e="0".concat(e)),e):"00"};i.useEffect((function(){f(h(o)),v()}),[]);var v=function(){setInterval((function(){o>=0&&("down"===c&&(o-=1e3),"up"===c&&(o+=1e3),f(h(o)))}),1e3)};return"00:00"!=="".concat(m,":").concat(d)?(0,s.jsxs)("div",{style:{fontSize:"14px",fontWeight:"400",color:"#333333",marginTop:"6%"},children:["Resend in ","".concat(m,":").concat(d)]}):(0,s.jsxs)("div",{className:"header2dark secondaryGreen",style:{marginTop:"6%"},onClick:function(){setInterval((function(){o>=0&&("down"===c&&(o-=1e3),"up"===c&&(o+=1e3),f(h(o)))}),1e3),t()},children:["Resend OTP ",(0,s.jsx)(r.Td4,{style:{verticalAlign:"unset"},size:10})]})}},3776:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(1413),i=t(4165),r=t(5861),s=t(9439),c=t(8848),o=t(2791),l=t(8820),u=t(6960),d=t(9811),f=t(8213),p=t(7784),m=t(81),h=t(184);function v(e){var n=o.useState(""),t=(0,s.Z)(n,2),v=t[0],g=t[1],x=o.useState(!1),y=(0,s.Z)(x,2),Z=y[0],b=y[1],j=o.useState(""),k=(0,s.Z)(j,2),T=k[0],N=k[1],C=e.location.state;o.useEffect((0,r.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null===C||void 0===C?e.history.push("/signup"):E();case 1:case"end":return n.stop()}}),n)}))),[]);var w=function(){return 6===v.length};o.useEffect((function(){6===v.length&&S()}),[v]);var S=function(){if(v==="".concat(T)&&""!==T){var n={name:C.ClientName,email:C.Email,mobile:C.MobileNumber,id:C.ClientId,isLogged:!0};c.Z.set(c.Z.model.user,JSON.stringify({userData:n})),e.history.push({pathname:"/dashboard",state:(0,a.Z)({},C)})}else b(!0)},E=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(""),e.next=4,m.Z.login(C.ClientId).then((function(e){return e}));case 4:(n=e.sent).type&&"success"===n.data.Result?N(n.data.otpcode):u.Am.error("Try again ..."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.Am.error("Try again ...");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(e,n){if("phone"===n)return e.slice(0,3)+"*****"+e.slice(-2);var t=e.split("@");return t[0].slice(0,2)+"*****@"+t[1]};return(0,h.jsxs)("div",{className:"mainContainer",children:[(0,h.jsx)(p.Z,{navigation:e.history,left:"back"}),(0,h.jsxs)("div",{className:"dataContainer",children:[(0,h.jsxs)("div",{className:"login-header",children:[(0,h.jsx)("div",{className:"bigHeader",children:"Welcome Back, "+C.ClientName+"!"}),(0,h.jsxs)("div",{className:"bodyTextDark",style:{marginTop:"6px"},children:["Please enter OTP received on ",I(C.Email,"email")," and ",I(C.MobileNumber,"phone")]})]}),(0,h.jsx)(d.Z,{type:"tel",id:"typepass",label:"OTP",style:{letterSpacing:"16px"},autoFocus:!0,onChange:function(e){b(!1);var n=e.target.value.replace(/\D/g,"");g(n)},value:v,maxLength:6}),Z?(0,h.jsx)("div",{className:"errorMsg",children:"Incorrect OTP. Try again!"}):"",(0,h.jsx)(f.Z,{totalTime:3e4,dir:"down",onClick:function(){b(!1),g(""),E()}})]}),(0,h.jsx)("div",{className:"login-footer",children:(0,h.jsxs)("button",{className:"solidButton",style:{opacity:w()?1:.4},onClick:function(){w()&&S()},children:["Login ",(0,h.jsx)(l.Td4,{size:12})]})})]})}}}]);
//# sourceMappingURL=3776.3456166a.chunk.js.map