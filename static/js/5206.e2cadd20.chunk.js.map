{"version":3,"file":"static/js/5206.e2cadd20.chunk.js","mappings":"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","sources":["views/mobileView/screens/mintboxpro/ProfileCompletion/FatcaDetails.js"],"sourcesContent":["import React from 'react'\nimport MainHeader from 'views/mobileView/components/molecules/Headers/MainHeader';\nimport CustomDropDown from 'views/mobileView/components/molecules/DropDown/CustomDropDown';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport BottomBackNextBtn from 'views/mobileView/components/atoms/BottomBackNextBtn';\nimport db from 'libs/db';\nimport { dropdownCustom } from 'views/mobileView/components/atoms/DataCustomizer';\nimport AdminServices from 'services/api/AdminServices';\nimport ActivityLoaderMintbox from 'views/mobileView/components/atoms/ActivityLoaderMintbox';\n\nconst FatcaDetails = (props) => {\n    const taxStatus = props.location.state?.taxStatus\n\n    const [income, setIncome] = React.useState('');\n    const [wealth, setWealth] = React.useState('');\n    const [occupation, setOccupation] = React.useState('');\n    const [nextDisabled, setNextDisabled] = React.useState(false)\n\n    const [loading, setloading] = React.useState(true);\n    const [incomeList, setincomeList] = React.useState([]);\n    const [wealthList, setwealthList] = React.useState([]);\n    const [occupationList, setoccupationList] = React.useState([]);\n    React.useEffect(async () => {\n        if (!props.location.state?.taxStatus) {\n            props.history.push('/activate-direct-mf/tax-status')\n        } else {\n            await db.get(db.model.userData).then(async (u) => {\n                if (!props.location.state?.taxStatus) {\n                    props.history.push('/activate-direct-mf/tax-status')\n                } else {\n                    if (u) {\n                        if (u.Fatca) {\n                            setWealth(u.Fatca.wealth || '')\n                            setOccupation(u.Fatca.occupation || '')\n                            setIncome(u.Fatca.income || '')\n                            console.log(\"income\",u.Fatca.income)\n                            console.log(\"list \",u.Fatca.incomeList)\n                            setoccupationList(u.Fatca.occupationList || []);\n                            setincomeList(u.Fatca.incomeList || []);\n                            setwealthList(u.Fatca.wealthList || []);\n                        }\n                        else {\n                            await getData()\n                        }\n                    }\n                }\n            })\n            setloading(false);\n        }\n    }, []);\n    const getData = async () => {\n        try {\n            await AdminServices.getOccupation()\n                .then(async (res) => {\n                    const data = await dropdownCustom(res.data, ['UID', 'Occupation']);\n                    setoccupationList(data);\n                })\n                .then(async () => {\n                    await AdminServices.getAnnualIncome()\n                        .then(async (res) => {\n                            const data = await dropdownCustom(res.data, ['UID','IncomeSlab']);\n                            setincomeList(data);\n                        })\n                        .then(async () => {\n                            await AdminServices.getSourceofWealth()\n                                .then(async (res) => {\n                                    const data = await dropdownCustom(res.data, ['UID','Source']);\n                                    setwealthList(data);\n                                })\n                        });\n                });\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    React.useEffect(() => {\n        checkValidation();\n    }, [income, wealth, occupation]);\n    const checkValidation = () => {\n        if (income && wealth && occupation) {\n            setNextDisabled(false);\n        } else {\n            setNextDisabled(true);\n        }\n    };\n    return (\n        <div className='mainContainer'>\n            <MainHeader\n                header=\"Activate mutual funds\"\n                navigation={props.history}\n            />\n            <ProgressBar now={60} className=\"progress-bar-custom\" />\n            <div className=\"dataContainer\" style={{ paddingTop: '42px' }}>\n                {loading ?\n                    <ActivityLoaderMintbox />\n                    :\n                    <>\n                        <div className='header1dark'>\n                            {taxStatus === '1' ? 'Select legal guardian income details' : 'Select income details'}\n                        </div>\n                        <div style={{ marginTop: \"6%\" }}>\n                            <CustomDropDown\n                                label=\"Annual income\"\n                                initial={income}\n                                items={incomeList}\n                                onChange={(item) => setIncome(item)} />\n                        </div>\n                        <div style={{ marginTop: \"6%\" }}>\n                            <CustomDropDown\n                                label=\"Source of wealth\"\n                                initial={wealth}\n                                items={wealthList}\n                                onChange={(item) => setWealth(item)} />\n                        </div>\n                        <div style={{ marginTop: \"6%\" }}>\n                            <CustomDropDown\n                                label=\"Occupation\"\n                                initial={occupation}\n                                items={occupationList}\n                                onChange={(item) => setOccupation(item)} />\n                        </div>\n                    </>\n                }\n            </div>\n            <div className='footer'>\n                <BottomBackNextBtn\n                    nextDisabled={nextDisabled}\n                    navigation={props.history}\n                    buttonText=\"Confirm\"\n                    next=\"/activate-direct-mf/fatca2\"\n                    params={props.location.state}\n                    saveData={{\n                        Fatca: {\n                            income,\n                            wealth,\n                            occupation,\n                            incomeList,\n                            wealthList,\n                            occupationList\n                        }\n                    }} />\n            </div>\n        </div>\n    )\n}\n\nexport default FatcaDetails\n"],"names":["props","taxStatus","location","state","React","income","setIncome","wealth","setWealth","occupation","setOccupation","nextDisabled","setNextDisabled","loading","setloading","incomeList","setincomeList","wealthList","setwealthList","occupationList","setoccupationList","history","push","db","then","u","Fatca","console","log","getData","AdminServices","res","dropdownCustom","data","checkValidation","className","header","navigation","now","style","paddingTop","marginTop","label","initial","items","onChange","item","buttonText","next","params","saveData"],"sourceRoot":""}