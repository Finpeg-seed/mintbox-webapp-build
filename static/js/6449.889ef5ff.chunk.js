"use strict";(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[6449],{2265:function(e,t,n){n.d(t,{B3:function(){return m},pl:function(){return g}});var a=n(1413),r=n(4165),o=n(5861),s=n(81),i=n(456),c=n(6960),u=n(8848),d="mintbox",l=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,s.Z.getSmallcasetoken(t).then((function(e){return e}));case 3:if(!(n=e.sent).type){e.next=11;break}return console.log("Initializing with New Token =>>",n.data),e.next=8,u.Z.set(u.Z.model.smallcaseSDKToken,n.data);case 8:window.sc=new window.scDK({gateway:d,smallcaseAuthToken:n.data}),e.next=13;break;case 11:return e.next=13,l();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get(u.Z.model.smallcaseSDKToken).then(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||1e3*(0,i.Z)(t).exp<(new Date).getTime())){e.next=5;break}return e.next=3,u.Z.get(u.Z.model.user).then(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get(u.Z.model.clientData).then(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var o,i,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=23;break}return e.next=3,s.Z.getClient(t.userData.id).then((function(e){return e}));case 3:if(!0!==(o=e.sent).type){e.next=19;break}return i=JSON.parse(o.data),c=i.reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),t)}),{}),console.log("Get Client API :",c),e.next=10,u.Z.set(u.Z.model.clientData,JSON.stringify(c));case 10:if(!c.SmallcaseInfo.length){e.next=15;break}return e.next=13,l(c.SmallcaseInfo[0].AuthId);case 13:e.next=17;break;case 15:return e.next=17,l();case 17:e.next=21;break;case 19:return e.next=21,l();case 21:case 27:e.next=31;break;case 23:if(!n.SmallcaseInfo.length){e.next=29;break}return console.log("user auth id => ",n.SmallcaseInfo[0].AuthId),e.next=27,l(n.SmallcaseInfo[0].AuthId);case 29:return e.next=31,l();case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){c.Am.error(e)}));case 3:e.next=6;break;case 5:void 0===window.sc?(console.log("Initializing with existing sdktoken -> ",t),window.sc=new window.scDK({gateway:d,smallcaseAuthToken:t})):console.log("smallcase already initialized");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,s.Z.getSmallcasetoken(t).then((function(e){return e}));case 3:(n=e.sent).type&&(console.log("New Token =>>",n.data),u.Z.set(u.Z.model.smallcaseSDKToken,n.data),window.sc.init({smallcaseAuthToken:n.data}).then((function(e){console.log("Smallcase init complete",e)})).catch((function(e){console.log(e.message),p()})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,a){var o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={clientId:t,broker:a,smallcaseAuthToken:n},console.log(o),e.next=4,s.Z.saveSmallCaseAuthId(o).then((function(e){return e}));case 4:if(i=e.sent,console.log(i),!i.type){e.next=18;break}if("failure"!==i.data.Result){e.next=12;break}return console.log("failedddddddd"),e.abrupt("return",!1);case 12:return e.next=14,p(i.data.AuthId);case 14:return console.log("yeahhhhh"),e.abrupt("return",!0);case 16:e.next=19;break;case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},389:function(e,t,n){n.d(t,{Z:function(){return o}});n(2791);var a=[{Id:0,Name:"by AMC",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/mintbox_icons/mintbox_logo.svg"},{Id:1,Name:"Aditya Birla Sun Life Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/ABC.jpg"},{Id:2,Name:"HDFC Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/HDFC.png"},{Id:3,Name:"ICICI Prudential Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/ICICI.png"},{Id:5,Name:"SBI Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/SBI.png"},{Id:6,Name:"Tata Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Tata.png"},{Id:7,Name:"Invesco Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Invesco.png"},{Id:8,Name:"Quantum Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Quantum.png"},{Id:9,Name:"UTI Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/UTI.png"},{Id:10,Name:"IDFC Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/IDFC.png"},{Id:12,Name:"DSP Blackrock",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/DSP.png"},{Id:13,Name:"Kotak Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Kotak.png"},{Id:15,Name:"Mirae Asset Management",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Mirae.png"},{Id:16,Name:"Franklin Templeton",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Franklin.png"},{Id:18,Name:"Sundaram Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Sundaram.png"},{Id:20,Name:"Motilal Oswal Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Motilal.png"},{Id:22,Name:"HSBC Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/HSBC.png"},{Id:23,Name:"Edelweiss Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Edelweiss.png"},{Id:24,Name:"L&T Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/L&T.png"},{Id:25,Name:"Axis Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/AXIS.png"},{Id:26,Name:"BNP Paribas Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/BNP.png"},{Id:27,Name:"IIFL Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/IIFL.png"},{Id:28,Name:"Taurus Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Taurus.png"},{Id:31,Name:"Baroda Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/BARODA.png"},{Id:34,Name:"IDBI Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/IDBI.png"},{Id:36,Name:"PPFAS Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/PPFAS.png"},{Id:37,Name:"JM Financials Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/JM.png"},{Id:38,Name:"LIC Nomura Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/LIC.png"},{Id:39,Name:"Canara Robeco Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/CANARA.png"},{Id:40,Name:"Principal Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Principal.png"},{Id:41,Name:"Indiabull Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Indiabulls.png"},{Id:42,Name:"Mahindra Manulife Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Mahindra.png"},{Id:45,Name:"Bharti AXA Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/BOI.png"},{Id:56,Name:"Nippon India Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Nippon.png"},{Id:57,Name:"PGIM India Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/PGIM.png"},{Id:58,Name:"Navi Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/NAVI.png"},{Id:59,Name:"Shriram Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Shriram.png"},{Id:60,Name:"Union KBC Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Union.png"},{Id:61,Name:"Yes Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Yes.png"},{Id:62,Name:"ITI Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/ITI.png"},{Id:63,Name:"Quant Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Quant.png"},{Id:64,Name:"Trust Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Trust.png"},{Id:65,Name:"LIC Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/LIC.png"},{Id:66,Name:"ICICI Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/ICICI.png"},{Id:67,Name:"Mirae Asset Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Mirae.png"},{Id:68,Name:"Kotak Mahindra Mutual Fund",imgSource:"https://d3etfstcuyoos5.cloudfront.net/app-images/amc_icons/Kotak.png"}],r=n(184);function o(e){var t=e.amcName,n=(e.type,e.height),o=e.width;return(0,r.jsx)("div",{style:{alignSelf:"flex-start"},children:(0,r.jsx)("img",{src:0!==a.filter((function(e){return e.Name===t})).length?a.filter((function(e){return e.Name===t}))[0].imgSource:a[0].imgSource,style:{height:n,width:o}})})}},3411:function(e,t,n){function a(e){return(e=e>=1e7?"\u20b9 ".concat((e/1e7).toFixed(2)," cr"):e>=1e5?"\u20b9 ".concat((e/1e5).toFixed(2)," lac"):e>=1e3?"\u20b9 ".concat((e/1e3).toFixed(2)," k"):r(e)).replace("-","")}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Intl.NumberFormat("en-IN",{minimumFractionDigits:0,maximumFractionDigits:t}).format(e);return"\u20b9 ".concat(n)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"short"===t?a(Number(e)):r(Number(e),n)}n.d(t,{A:function(){return o}})},6415:function(e,t,n){n.d(t,{Z:function(){return s}});n(2791);var a=n(7811),r=n(3378),o=n(184);function s(e){var t=e.risk,n=e.height,s=e.width;return(0,o.jsx)("div",{style:{display:"flex",border:"1px solid "+a.Z.getPropertyValue("--light"),padding:"calc(".concat(n,"*10/100) 0"),borderRadius:"4px",height:n,width:s,backgroundColor:(0,r.MP)(t)},children:(0,o.jsx)("img",{src:"https://d3etfstcuyoos5.cloudfront.net/app-images/wealth-creators.png",style:{height:"calc(".concat(n,"*80/100)"),margin:"auto"}})})}},3378:function(e,t,n){n.d(t,{MP:function(){return o},f3:function(){return s},i1:function(){return r}});var a=n(7811),r=function(e){switch(e){case 1:return"Super conservative";case 2:return"Conservative";case 3:return"Moderate";case 4:return"Aggressive";case 5:return"Super aggressive";case 6:return"Very aggressive";default:return""}},o=function(e){switch(e){case 1:return a.Z.getPropertyValue("--lowestRisk");case 2:return a.Z.getPropertyValue("--conservativeRisk");case 3:return a.Z.getPropertyValue("--moderateRisk");case 4:return a.Z.getPropertyValue("--secondHeighestRisk");case 5:case 6:return a.Z.getPropertyValue("--highestRisk");default:return""}},s=function(e){switch(e){case 1:return"#3395FF";case 2:return a.Z.getPropertyValue("--darkGreen");case 3:return a.Z.getPropertyValue("--gold");case 4:return a.Z.getPropertyValue("--internationalEquity");case 5:return"#FF5A5F";case 6:return a.Z.getPropertyValue("--highestRisk");default:return""}}},9657:function(e,t,n){var a=n(1413),r=n(9439),o=n(2791),s=n(1734),i=n(5044),c=n(1956),u=n(184);t.Z=function(e){var t=e.tabsObject,n=e.color,d=e.defaultTab,l=void 0===d?0:d,m=o.useState(l),p=(0,r.Z)(m,2),g=p[0],f=p[1],h=(0,c.useSwipeable)({trackMouse:!0,trackTouch:!0,preventDefaultTouchmoveEvent:!0});return(0,u.jsxs)("div",(0,a.Z)((0,a.Z)({},h),{},{children:[n?(0,u.jsx)("style",{type:"text/css",children:"\n              .nav-tabs.normal-tabs .nav-link.active {\n                color: ".concat(n," !important;\n                border-bottom: 3px solid ").concat(n," !important;\n              }\n            ")}):"",(0,u.jsx)(i.Z,{activeKey:g,onSelect:function(e){return f(1*e)},className:"normal-tabs",children:t.map((function(e,t){return(0,u.jsx)(s.Z,{eventKey:t,title:e.title,children:e.view},t)}))})]}))}},2102:function(e,t,n){n(2791);var a=n(8820),r=n(9126),o=n(3853),s=n(8617),i=n(7811),c=n(184);t.Z=function(e){var t=e.header,n=e.navigation,u=e.screenType,d=e.backAction,l=void 0===d?function(){n.goBack()}:d,m=e.right,p=e.rightAction,g=void 0===p?function(){}:p,f=e.isWatchlisted,h=void 0!==f&&f,x=e.onWatchlistIconClick,y=void 0===x?function(){}:x,I=e.onShareIconClick,v=void 0===I?function(){}:I,b=e.onHeaderClick,k=void 0===b?function(){}:b;return(0,c.jsxs)("div",{className:"mainHeader sticky-top",children:["Home"!==u&&(0,c.jsx)("div",{style:{marginRight:"4%",minWidth:"8%"},children:(0,c.jsx)(o.Ao2,{color:i.Z.getPropertyValue("--secondaryGreen"),size:24,onClick:function(){return l()}})}),(0,c.jsx)("div",{style:{flex:1},children:(0,c.jsx)("span",{className:"screenTitle",onClick:function(){return k()},children:t})}),(0,c.jsx)("div",{style:{display:"flex"},children:function(){switch(m){case"bookmark-share":return(0,c.jsxs)("span",{children:[h?(0,c.jsx)(r.vw0,{className:"secondaryGreen",size:24,onClick:y}):(0,c.jsx)(r.flH,{className:"secondaryGreen",size:24,onClick:y}),(0,c.jsx)(s.qyl,{className:"secondaryGreen",size:24,style:{marginLeft:"20px"},onClick:v})]});case"tip":return(0,c.jsxs)("span",{className:"header3dark secondaryGreen",onClick:function(){return g()},children:["Tip ",(0,c.jsx)(a.cuw,{size:10})]});default:return m?(0,c.jsx)("span",{className:"greenChipHeader",onClick:function(){g()},children:m}):(0,c.jsx)(c.Fragment,{})}}()})]})}},2785:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(4165),r=n(5861),o=n(8848),s=n(6960),i=n(81),c=n(2265),u=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s,c,u,d,l,m,p,g,f,h,x,y,I,v;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.navigation,r=t.order,s=t.clientId,c=t.mintboxId,u=t.goalId,d=t.fundCode,l=t.amount,m=t.isSIP,p=t.sipDate,g=t.isUnitsBased,f=t.units,h=t.isInvest,x={},x=h?{clientId:s,mintboxId:c,goalId:Number(u),transactionType:1,fromFundCode:"",toFundCode:d+"",folioNumber:"",sipAmount:m?Number(l):0,units:0,LumpsumAmount:m?0:Number(l),sipDate:m?p:0,investedAmount:r.orderBatches[0].buyAmount,investmentDate:r.orderBatches[0].completedDate}:{clientId:s,mintboxId:c,goalId:Number(u),transactionType:2,fromFundCode:"",toFundCode:d+"",folioNumber:"",sipAmount:0,units:g?Number(f):0,lumpsumAmount:g?0:l,sipDate:0,investedAmount:r.orderBatches[0].sellAmount,investmentDate:r.orderBatches[0].completedDate},console.log("Save trnx log",x),e.next=6,i.Z.saveTransactionLogs(x).then((function(e){return e}));case 6:return y=e.sent,console.log("Save Trx log API response",JSON.stringify(y)),I={clientId:s,mintboxId:c,goalId:Number(u),smallcaseAuthToken:r.smallcaseAuthToken,broker:r.broker,transactionId:r.transactionId,data:{batches:r.orderBatches}},console.log("Save small case order",JSON.stringify(I)),e.next=12,i.Z.saveSmallCaseOrder(s,JSON.stringify(I)).then((function(e){return e}));case 12:if(v=e.sent,console.log("saveSmallCaseOrder API response",v),!v.type){e.next=30;break}return e.next=17,o.Z.remove(o.Z.model.portfolio);case 17:return e.next=19,o.Z.remove(o.Z.model.portfolioXirr);case 19:return e.next=21,o.Z.remove(o.Z.model.portfolioPerformance);case 21:return e.next=23,o.Z.remove(o.Z.model.assetAllocation);case 23:return e.next=25,o.Z.remove(o.Z.model.transactions);case 25:return e.next=27,o.Z.remove(o.Z.model.sip);case 27:n.push("/portfolio/success"),e.next=31;break;case 30:n.push("/portfolio/failed");case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function d(e){return l.apply(this,arguments)}function l(){return l=(0,r.Z)((0,a.Z)().mark((function e(t){var n,d,l,m,p,g,f,h,x,y,I,v;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.navigation,d=t.securities,l=t.amount,m=t.isSIP,p=t.isUnitsBased,g=t.units,f=t.sipDate,h=t.SCREENTYPE,x=t.FUNDDATA,y=t.isInvest,console.log("exec smcs trx",m),I={intent:"TRANSACTION",orderConfig:{type:"SECURITIES",securities:d}},console.log("order",I),e.next=6,i.Z.getSmallcaseTransactionId(I,"",x.MintboxId||0,x.GoalId||0).then((function(e){return e}));case 6:if(!(v=e.sent).type){e.next=24;break}if(console.log("Trx id =>>",v.data.data.transactionId),e.prev=9,void 0!==window.sc){e.next=14;break}return console.log("Initializing Smallcase"),e.next=14,(0,c.B3)();case 14:return e.next=16,window.sc.triggerTransaction({transactionId:v.data.data.transactionId}).then(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),"COMPLETED"!==t.orderBatches[0].status){e.next=4;break}return e.next=4,o.Z.get(o.Z.model.user).then(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==h){e.next=6;break}return e.next=3,u({navigation:n,order:t,clientId:r.userData.id,mintboxId:x.MintboxId||0,goalId:x.GoalId||0,fundCode:x.MintboxId,amount:l,isSIP:m,sipDate:f,isUnitsBased:p,units:g,isInvest:y});case 3:case 9:return e.abrupt("return",e.sent);case 6:if(1!==h){e.next=10;break}return e.next=9,u({navigation:n,order:t,clientId:r.userData.id,mintboxId:x.MintboxId||0,goalId:x.GoalId||0,fundCode:x.FundCode,amount:l,isSIP:m,sipDate:f,isUnitsBased:p,units:g,isInvest:y});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if(e.toString().includes("market_closed"))return console.log("mkt closed"),"market_closed";"user_cancelled"!==e.message&&s.Am.error("Something went wrong! Try again.")}));case 16:return e.abrupt("return",e.sent);case 19:e.prev=19,e.t0=e.catch(9),s.Am.error("Something went wrong! Try again.");case 22:e.next=25;break;case 24:console.log("Error getting Transaction Id");case 25:case"end":return e.stop()}}),e,null,[[9,19]])}))),l.apply(this,arguments)}},6449:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var a=n(4165),r=n(5861),o=n(9439),s=n(2791),i=n(2102),c=n(7811),u=n(9657),d=n(4561),l=n(6415),m=n(2373),p=n(2785),g=n(81),f=n(6960),h=n(389),x=n(3411),y=n(184);function I(e){var t=s.useState(!1),n=(0,o.Z)(t,2),I=n[0],v=n[1],b=e.location.state.fundData,k=e.location.state.constituents;s.useEffect((function(){console.log(b),console.log(k)}),[]);var N=[{title:"Redeem mintbox (recommended)",view:function(){var t=s.useState(),n=(0,o.Z)(t,2),i=n[0],u=n[1],d=s.useState(!1),l=(0,o.Z)(d,2),h=l[0],I=l[1];s.useEffect((function(){h&&u(b.MintboxBalance)}),[h]);var N=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n,r){var o,s,i,c,u,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.getETFsById(t.toString()).then((function(e){return e}));case 2:if(o=e.sent,console.log(o),!o.type){e.next=28;break}return console.log(o),s={},n.map((function(e){s[e.FundCode]=e.CurrentWeightage/100})),i={},o.data.map((function(e){i[e.Symbol]=e.NAV})),c={weights:s,currentNav:i,investment:r},console.log(c),e.next=14,g.Z.getETFQuantities(JSON.stringify(c)).then((function(e){return e}));case 14:if(u=e.sent,console.log(u),!u.type){e.next=24;break}return d=u.data.Result,d=JSON.parse(d).data,console.log(u),console.log(d),e.abrupt("return",d);case 24:return f.Am.error("Error. Increase redemption amount"),e.abrupt("return",{});case 26:e.next=30;break;case 28:return f.Am.error("Error"),e.abrupt("return",{});case 30:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),S=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){var n,r,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(!0),n=[],!h){t.next=6;break}n=k.map((function(e){return{ticker:e.FundCode,quantity:e.Units+"",type:"SELL"}})),t.next=11;break;case 6:return r=k.map((function(e){return e.FundCode})),t.next=9,N(r,k,i);case 9:o=t.sent,Object.keys(o).length&&(n=Object.entries(o).map((function(e){return{ticker:e[0],quantity:e[1]+"",type:"SELL"}})));case 11:if(console.log(n),!n.length){t.next=17;break}return t.next=15,(0,p.Z)({navigation:e.history,securities:n,amount:Number(i),isSIP:!1,isUnitsBased:!1,units:0,sipDate:0,SCREENTYPE:3,FUNDDATA:b,isInvest:!1});case 15:t.next=18;break;case 17:f.Am.error("Increase redemption amount");case 18:v(!1);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{style:{margin:"4%"},children:[(0,y.jsx)("div",{className:"header1dark",style:{paddingTop:"4%"},children:"Redemption amount"}),(0,y.jsx)("div",{className:"smallTextLight",children:"Enter the amount to redeem"}),(0,y.jsx)(m.Z,{className:"normalInput rupee",id:"amount",name:"amount",placeholder:"10,000",value:i,allowDecimals:!1,allowNegativeValue:!1,disableAbbreviations:!1,prefix:" ",onValueChange:function(e){I(!1),u(e)},intlConfig:{locale:"en-IN",currency:"INR"}}),(0,y.jsxs)("div",{style:{marginTop:"4%",display:"flex"},children:[(0,y.jsx)("input",{type:"checkbox",id:"checkbox",name:"checkbox",checked:h,onChange:function(){return I(!h)},className:"greenCheckbox"}),(0,y.jsx)("label",{htmlFor:"checkbox",style:{flex:1},children:"Fully redeem this minbox"})]})]}),(0,y.jsx)("div",{className:"bodyTextLight",style:{position:"fixed",bottom:70,width:"100%",padding:"2% 4%",borderTop:"1px solid "+c.Z.getPropertyValue("--light")},children:"Note: The actual amount redeemed may be slightly different due to constantly changing prices"}),(0,y.jsx)("div",{className:"footer",children:(0,y.jsx)("button",{className:"outlineButton",style:{color:c.Z.getPropertyValue("--red"),borderColor:c.Z.getPropertyValue("--red")},onClick:function(){i&&0!==i&&(i>b.MintboxBalance?f.Am.error("You can redeem maximum ".concat((0,x.A)(b.MintboxBalance,"long",2))):S())},children:"Confirm and redeem"})})]})}()},{title:"Redeem constituents",view:(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"header1dark",style:{padding:"4%",marginTop:"4%"},children:"Choose constituent to redeem"}),k.map((function(t){return(0,y.jsxs)("div",{style:{padding:"4%",display:"flex",gap:"4%",borderBottom:"1px solid "+c.Z.getPropertyValue("--light")},children:[(0,y.jsx)(h.Z,{amcName:t.AMCName,width:"40px",height:"40px"}),(0,y.jsxs)("div",{style:{flex:1},children:[(0,y.jsx)("div",{className:"header2dark",style:{marginBottom:"2%"},children:t.ETFName}),(0,y.jsxs)("div",{className:"smallTextLight",children:["Balance ",(0,y.jsx)("span",{className:"smallTextDark",children:t.MintboxETFBalance})," | Units ",(0,y.jsx)("span",{children:t.Units})]})]}),(0,y.jsx)("button",{className:"outlineButton",style:{margin:"auto",width:"auto",color:c.Z.getPropertyValue("--red"),borderColor:c.Z.getPropertyValue("--red"),height:"33px",padding:"0 3%"},onClick:function(){return e.history.push({pathname:"/portfolio/redeem-etf",state:{fundData:t}})},children:"Redeem"})]})}))]})})}];return I?(0,y.jsxs)("div",{style:{flex:1},children:[(0,y.jsx)(i.Z,{header:"Redeem",navigation:e.history}),(0,y.jsx)(d.Z,{})]}):(0,y.jsxs)("div",{className:"mainContainer",children:[(0,y.jsx)(i.Z,{navigation:e.history,header:"Redeem"}),(0,y.jsxs)("div",{className:"dataContainer px-0",children:[(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4%",padding:"4%"},children:[(0,y.jsx)(l.Z,{risk:b.RiskLevel,height:"40px",width:"40px"}),(0,y.jsx)("div",{style:{flex:1},children:(0,y.jsx)("div",{className:"header1dark",children:b.MintboxName})})]}),(0,y.jsx)(u.Z,{tabsObject:N,color:c.Z.getPropertyValue("--darkGreen")})]})]})}},456:function(e,t,n){function a(e){this.message=e}a.prototype=new Error,a.prototype.name="InvalidCharacterError";var r="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,s=0,i="";r=t.charAt(s++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return r(t)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new s("Invalid token specified: "+e.message)}}}}]);
//# sourceMappingURL=6449.889ef5ff.chunk.js.map