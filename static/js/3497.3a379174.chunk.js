"use strict";(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[3497],{6561:function(e,a,n){n.d(a,{D4:function(){return r},r2:function(){return t}});var t="https://d3etfstcuyoos5.cloudfront.net/app-images/imgs/",r=[{Id:0,Name:"by AMC",imgSource:t+"mintbox_logo.svg"},{Id:1,Name:"Aditya Birla Sun Life Mutual Fund",imgSource:t+"ABC.webp"},{Id:2,Name:"HDFC Mutual Fund",imgSource:t+"HDFC.webp"},{Id:3,Name:"ICICI Prudential Mutual Fund",imgSource:t+"ICICI.webp"},{Id:5,Name:"SBI Mutual Fund",imgSource:t+"SBI.webp"},{Id:6,Name:"Tata Mutual Fund",imgSource:t+"Tata.webp"},{Id:7,Name:"Invesco Mutual Fund",imgSource:t+"Invesco.webp"},{Id:8,Name:"Quantum Mutual Fund",imgSource:t+"Quantum.webp"},{Id:9,Name:"UTI Mutual Fund",imgSource:t+"UTI.webp"},{Id:10,Name:"IDFC Mutual Fund",imgSource:t+"IDFC.webp"},{Id:12,Name:"DSP Blackrock",imgSource:t+"DSP.webp"},{Id:13,Name:"Kotak Mutual Fund",imgSource:t+"Kotak.webp"},{Id:15,Name:"Mirae Asset Management",imgSource:t+"Mirae.webp"},{Id:16,Name:"Franklin Templeton",imgSource:t+"Franklin.webp"},{Id:18,Name:"Sundaram Mutual Fund",imgSource:t+"Sundaram.webp"},{Id:20,Name:"Motilal Oswal Mutual Fund",imgSource:t+"Motilal.webp"},{Id:22,Name:"HSBC Mutual Fund",imgSource:t+"HSBC.webp"},{Id:23,Name:"Edelweiss Mutual Fund",imgSource:t+"Edelweiss.webp"},{Id:24,Name:"L&T Mutual Fund",imgSource:t+"L&T.webp"},{Id:25,Name:"Axis Mutual Fund",imgSource:t+"AXIS.webp"},{Id:26,Name:"BNP Paribas Mutual Fund",imgSource:t+"BNP.webp"},{Id:27,Name:"IIFL Mutual Fund",imgSource:t+"IIFL.webp"},{Id:28,Name:"Taurus Mutual Fund",imgSource:t+"Taurus.webp"},{Id:31,Name:"Baroda Mutual Fund",imgSource:t+"BARODA.webp"},{Id:34,Name:"IDBI Mutual Fund",imgSource:t+"IDBI.webp"},{Id:36,Name:"PPFAS Mutual Fund",imgSource:t+"PPFAS.webp"},{Id:37,Name:"JM Financials Mutual Fund",imgSource:t+"JM.webp"},{Id:38,Name:"LIC Nomura Mutual Fund",imgSource:t+"LIC.webp"},{Id:39,Name:"Canara Robeco Mutual Fund",imgSource:t+"CANARA.webp"},{Id:40,Name:"Principal Mutual Fund",imgSource:t+"Principal.webp"},{Id:41,Name:"Indiabull Mutual Fund",imgSource:t+"Indiabulls.webp"},{Id:42,Name:"Mahindra Manulife Mutual Fund",imgSource:t+"Mahindra.webp"},{Id:45,Name:"Bharti AXA Mutual Fund",imgSource:t+"BOI.webp"},{Id:56,Name:"Nippon India Mutual Fund",imgSource:t+"Nippon.webp"},{Id:57,Name:"PGIM India Mutual Fund",imgSource:t+"PGIM.webp"},{Id:58,Name:"Navi Mutual Fund",imgSource:t+"NAVI.webp"},{Id:59,Name:"Shriram Mutual Fund",imgSource:t+"Shriram.webp"},{Id:60,Name:"Union KBC Mutual Fund",imgSource:t+"Union.webp"},{Id:61,Name:"Yes Mutual Fund",imgSource:t+"Yes.webp"},{Id:62,Name:"ITI Mutual Fund",imgSource:t+"ITI.webp"},{Id:63,Name:"Quant Mutual Fund",imgSource:t+"Quant.webp"},{Id:64,Name:"Trust Mutual Fund",imgSource:t+"Trust.webp"},{Id:65,Name:"LIC Mutual Fund",imgSource:t+"LIC.webp"},{Id:66,Name:"ICICI Mutual Fund",imgSource:t+"ICICI.webp"},{Id:67,Name:"Mirae Asset Mutual Fund",imgSource:t+"Mirae.webp"},{Id:68,Name:"Kotak Mahindra Mutual Fund",imgSource:t+"Kotak.webp"}]},2102:function(e,a,n){n(2791);var t=n(8820),r=n(9126),i=n(3853),o=n(8617),u=n(7811),s=n(184);a.Z=function(e){var a=e.header,n=e.navigation,c=e.screenType,d=e.backAction,l=void 0===d?function(){n.goBack()}:d,m=e.right,p=e.rightAction,g=void 0===p?function(){}:p,f=e.isWatchlisted,h=void 0!==f&&f,x=e.onWatchlistIconClick,I=void 0===x?function(){}:x,b=e.onShareIconClick,y=void 0===b?function(){}:b,S=e.onHeaderClick,N=void 0===S?function(){}:S;return(0,s.jsxs)("div",{className:"mainHeader sticky-top",children:["Home"!==c&&(0,s.jsx)("div",{style:{marginRight:"4%",minWidth:"8%"},children:(0,s.jsx)(i.Ao2,{color:u.Z.getPropertyValue("--secondaryGreen"),size:24,onClick:function(){return l()}})}),(0,s.jsx)("div",{style:{flex:1},children:(0,s.jsx)("span",{className:"screenTitle",onClick:function(){return N()},children:a})}),(0,s.jsx)("div",{style:{display:"flex"},children:function(){switch(m){case"bookmark-share":return(0,s.jsxs)("span",{children:[h?(0,s.jsx)(r.vw0,{className:"secondaryGreen",size:24,onClick:I}):(0,s.jsx)(r.flH,{className:"secondaryGreen",size:24,onClick:I}),(0,s.jsx)(o.qyl,{className:"secondaryGreen",size:24,style:{marginLeft:"20px"},onClick:y})]});case"tip":return(0,s.jsxs)("span",{className:"header3dark secondaryGreen",onClick:function(){return g()},children:["Tip ",(0,s.jsx)(t.cuw,{size:10})]});default:return m?(0,s.jsx)("span",{className:"greenChipHeader",onClick:function(){g()},children:m}):(0,s.jsx)(s.Fragment,{})}}()})]})}},3497:function(e,a,n){n.r(a);var t=n(1413),r=n(4165),i=n(5861),o=n(9439),u=n(8848),s=n(2791),c=n(1276),d=n.n(c),l=n(6960),m=n(3593),p=n(81),g=n(7811),f=n(2102),h=n(8820),x=n(4561),I=n(6561),b=n(184);a.default=function(e){null===(a=e.location.state)||void 0===a||a.taxStatus;var a,n=s.useState(""),c=(0,o.Z)(n,2),y=c[0],S=c[1],N=s.useState(""),w=(0,o.Z)(N,2),k=w[0],C=w[1],v=s.useState("sign"),F=(0,o.Z)(v,2),M=F[0],Z=F[1],D=s.useState(!0),j=(0,o.Z)(D,2),P=j[0],A=j[1],R=s.useState(!0),T=(0,o.Z)(R,2),B=T[0],G=T[1],V=s.useState({}),E=(0,o.Z)(V,2),L=E[0],U=E[1],W=s.useState({}),z=(0,o.Z)(W,2),O=z[0],H=z[1],K=s.useState(!1),J=(0,o.Z)(K,2),Q=J[0],Y=J[1],_=s.useRef(null),q=s.useRef(null);s.useEffect((function(){ae()}),[k]);var X=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,n){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==a){e.next=18;break}return t=a,(i=new FormData).append("file",t),e.prev=4,e.next=7,p.Z.uploadDoc(L.id,i).then((function(e){return e}));case 7:o=e.sent,console.log(o.data),o.type?o.data.DocumentId?C(o.data.DocumentId):(console.log("ERR : 2",o.msg),l.Am.error("try again...")):(console.log("ERR : 1",o.msg),l.Am.error("try again...")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("ERR : c",e.t0),l.Am.error("try again...");case 16:e.next=19;break;case 18:alert("Please Select File first");case 19:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(a,n){return e.apply(this,arguments)}}(),$=function(e){S(URL.createObjectURL(e.target.files[0]));var a=e.target.files[0];X(a,"sign")},ee=function(){var e,a,n,t=q.getTrimmedCanvas().toDataURL("image/png");console.log(t),(e=t,a="sign.png",n="image/png",fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],a,{type:n})}))).then((function(e){X(e,"sign")}))},ae=function(){G(""===k||null===k)};function ne(e){return console.log(e),e=e.split(" / ").reverse().join("-")}var te=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get(u.Z.model.clientData).then(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,o,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=13;break}return e.next=3,p.Z.getClient(a).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=11;break}return o=JSON.parse(i.data),s=o.reduce((function(e,a){return(0,t.Z)((0,t.Z)({},e),a)}),{}),console.log("Get Client API :",s),Y(1===s.Client[0].IsProfileComplete),e.next=11,u.Z.set(u.Z.model.clientData,JSON.stringify(s));case 11:e.next=14;break;case 13:Y(1===n.Client[0].IsProfileComplete);case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),re=function(){var a=(0,i.Z)((0,r.Z)().mark((function a(){var n,t,i;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(Q),!Q){a.next=5;break}return l.Am.error("Profile already completed"),e.history.push("/dashboard"),a.abrupt("return");case 5:return t={client:{clientId:L.id,clientName:O.name,mobileNumber:"2"===O.taxStatus?O.PersonalDetails.phone:"",gender:"0"===O.PersonalDetails.gender?1:2,dateOfBirth:new Date(ne(O.PersonalDetails.dob)),pan:"1"===O.taxStatus?"":O.panData.pan,kycStatus:"1"===O.taxStatus?O.GuardianPan.kycRegistered:O.panData.kycRegistered,taxStatus:"0"===O.taxStatus?1:"1"===O.taxStatus?2:O.BankDetails.type,guardianPAN:"1"===O.taxStatus?O.GuardianPan.pan:"",guardianName:"1"===O.taxStatus?O.GuardianName:"",guardianDOB:"1"===O.taxStatus?new Date(ne(O.GuardianName)):new Date("0000-00-00"),panFileId:O.doc.panID,bankFileId:O.doc.chequeID,signFileId:k},addresses:[{clientId:L.id,address1:O.AddressDetails.line1,address2:O.AddressDetails.line2,city:O.AddressDetails.city,state:O.AddressDetails.state,pincode:O.AddressDetails.pincode,countryId:O.AddressDetails.country.CountryCode}],fatcas:[{clientId:L.id,pan:"1"===O.taxStatus?O.GuardianPan.pan:O.panData.pan,birthCountryId:0,residentCountryId:0,isTaxResident:"YES"===O.isTaxResident,politicalExposure:O.politicalExposure,annualIncomeSlab:Number(O.Fatca.income.IncomeCode),sourceofWealth:Number(O.Fatca.wealth.SourceCode),occupation:O.Fatca.occupation.OccupationCode,identificationType:""}],nominees:"1"!==O.taxStatus&&"0"===(null===(n=O.Nominee)||void 0===n?void 0:n.addNominee)?[{clientId:L.id,name:O.Nominee.noName,relation:O.Nominee.noRelation,dateOfBirth:new Date(ne(O.Nominee.noDob)),allocation:100,guardianName:O.Nominee.noGuardian}]:[],bankInfo:{clientId:L.id,bankId:O.BankDetails.UID,bankName:O.BankDetails.name,accountType:O.BankDetails.type,accountNumber:O.BankDetails.number,ifsc:O.BankDetails.ifsc,isDefault:1,isDeleted:0}},console.log(t),a.prev=7,a.next=10,p.Z.completeprofile(t).then((function(e){return e}));case 10:if(!(i=a.sent).type){a.next=24;break}if("success"!==i.data.Result){a.next=20;break}return a.next=15,p.Z.enableMf(L.email).then((function(e){return e}));case 15:"success"===a.sent.data.Result?(l.Am.success("Mutual Funds Enabled"),u.Z.remove(u.Z.model.clientData),u.Z.remove(u.Z.model.userData)):l.Am.error("Error"),1===("1"===O.taxStatus?O.GuardianPan.kycRegistered:O.panData.kycRegistered)?e.history.push("/start-investing"):e.history.push("/register-KYC"),a.next=22;break;case 20:console.log("ERR : 2",i.data),l.Am.error("Try Again...");case 22:a.next=26;break;case 24:console.log("ERR : 1",i.data),l.Am.error("Try Again...");case 26:a.next=32;break;case 28:a.prev=28,a.t0=a.catch(7),console.log("ERR : c",a.t0),l.Am.error("Try Again...");case 32:case"end":return a.stop()}}),a,null,[[7,28]])})));return function(){return a.apply(this,arguments)}}();return s.useEffect((function(){u.Z.get(u.Z.model.userData).then((function(e){e&&(H(e),e.sign&&(S(e.sign||""),C(e.signID||""),e.sign.startsWith("data:")?Z("sign"):Z("pick")))})).then((function(){u.Z.get(u.Z.model.user).then((function(e){U(e.userData),te(e.userData.id),A(!1)}))}))}),[]),P?(0,b.jsx)(x.Z,{}):(0,b.jsxs)("div",{className:"mainContainer",children:[(0,b.jsx)(f.Z,{header:"Activate mutual funds",navigation:e.history}),(0,b.jsx)(m.Z,{now:100,className:"progress-bar-custom"}),(0,b.jsx)("div",{className:"dataContainer",style:{paddingTop:"42px"},children:(0,b.jsxs)("div",{children:["sign"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"header1dark",style:{marginBottom:"6%"},children:"Sign in the box below"}),(0,b.jsxs)("div",{style:{border:"1px dashed "+g.Z.getPropertyValue("--light"),borderRadius:"5px",width:window.innerWidth-33},children:[(0,b.jsx)(d(),{ref:function(e){q=e},penColor:g.Z.getPropertyValue("--black"),canvasProps:{width:window.innerWidth-33,height:220,className:"sigCanvas"}}),(0,b.jsx)("div",{className:"header1dark",style:{position:"absolute",top:"230px",opacity:.5,textAlign:"center",width:window.innerWidth-33},children:"Sign here"}),(0,b.jsxs)("div",{style:{position:"absolute",top:"340px",textAlign:"center",width:window.innerWidth-33},children:[(0,b.jsx)("button",{style:{backgroundColor:g.Z.getPropertyValue("--primaryGreen"),color:g.Z.getPropertyValue("--darkGreen"),border:"none",borderRadius:"6px",height:"44px",width:"80px",fontSize:"14px"},onClick:function(){return ee()},className:"mx-2",children:"Save"}),(0,b.jsx)("button",{style:{backgroundColor:g.Z.getPropertyValue("--primaryGreen"),color:g.Z.getPropertyValue("--darkGreen"),border:"none",borderRadius:"6px",height:"44px",width:"80px",fontSize:"14px"},onClick:function(){return console.log("clear success!"),q.clear(),C(""),void S("")},className:"mx-2",children:"Clear"})]})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"header1dark",style:{marginBottom:"6%"},children:"Upload signature"}),""===y||null===y?(0,b.jsx)("div",{style:{borderWidth:1,borderStyle:"dashed",borderColor:g.Z.getPropertyValue("--secondaryGreen"),borderRadius:10,backgroundColor:g.Z.getPropertyValue("--cardColor"),alignItems:"center",padding:"30px",display:"flex",justifyContent:"space-around",marginTop:20},onClick:function(){_.current.click()},children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",accept:"image/*",id:"panfile",ref:_,style:{display:"none"},onChange:function(e){return $(e)}}),(0,b.jsx)("span",{className:"bodyTextLight",style:{color:g.Z.getPropertyValue("--secondaryGreen")},children:"Take a photo or upload an image"}),(0,b.jsx)("img",{style:{color:g.Z.getPropertyValue("--secondaryGreen")},src:I.r2+"cloud.svg"})]})}):(0,b.jsxs)("div",{style:{borderWidth:1,borderStyle:"dashed",borderColor:g.Z.getPropertyValue("--secondaryGreen"),borderRadius:10,backgroundColor:g.Z.getPropertyValue("--cardColor"),display:"flex",flexDirection:"column",justifyContent:"space-around",height:"10px !important"},children:[(0,b.jsx)("img",{width:"100%",height:"160",style:{borderRadius:10},src:y}),(0,b.jsx)("div",{style:{alignItems:"center",padding:"10px",display:"flex",justifyContent:"space-around"},onClick:function(){_.current.click(),Z("pan")},children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",accept:"image/*",id:"panfile",ref:_,style:{display:"none"},onChange:function(e){return $(e)}}),(0,b.jsx)("span",{className:"bodyTextLight",style:{color:g.Z.getPropertyValue("--secondaryGreen")},children:"Upload a different image"}),(0,b.jsx)("img",{style:{color:g.Z.getPropertyValue("--secondaryGreen")},resizeMode:"contain",src:I.r2+"cloud.svg"})]})})]})]}),"sign"===M?(0,b.jsxs)("p",{className:"header2dark mt-3",style:{color:g.Z.getPropertyValue("--secondaryGreen")},onClick:function(){Z("pick"),S(""),C("")},children:["Upload signature instead ",(0,b.jsx)(h.Td4,{size:12})]}):(0,b.jsxs)("p",{className:"header2dark mt-3",style:{color:g.Z.getPropertyValue("--secondaryGreen")},onClick:function(){Z("sign"),S(""),C("")},children:["Sign it instead ",(0,b.jsx)(h.Td4,{size:12})]})]})}),(0,b.jsx)("div",{className:"footer",children:(0,b.jsx)("button",{className:"solidButton",style:{opacity:B?.4:1},onClick:B?function(){}:function(){return re()},children:"Activate mutual funds now"})})]})}}}]);
//# sourceMappingURL=3497.3a379174.chunk.js.map