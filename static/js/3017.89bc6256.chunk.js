"use strict";(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[3017],{3597:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(1413),o=t(4165),i=t(5861),a=t(9439),s=t(2791),c=t(7811),u=t(8848),d=t(2102),l=t(5709),p=t(6960),f=t(81),m=t(8820),x=t(5221),h=t(4561),v=t(6561),y=t(184);function Z(e){var n=(0,s.useState)({}),t=(0,a.Z)(n,2),Z=t[0],g=t[1],b=(0,s.useState)({}),w=(0,a.Z)(b,2),j=(w[0],w[1],(0,s.useState)(!0)),k=(0,a.Z)(j,2),E=k[0],C=k[1],T=(0,s.useState)(!1),N=(0,a.Z)(T,2),R=N[0],S=N[1],A=(0,s.useState)(!1),D=(0,a.Z)(A,2),_=D[0],I=D[1];s.useEffect((function(){try{u.Z.get(u.Z.model.user).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(n.userData.id);case 2:g(n.userData),C(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}catch(e){p.Am.error(e),C(!1)}}),[]);var M=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get(u.Z.model.portfolio).then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=15;break}return e.next=3,f.Z.getPortfolio(n).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=13;break}return e.next=7,JSON.parse(i.data);case 7:return a=e.sent,s=a.reduce((function(e,n){return(0,r.Z)((0,r.Z)({},e),n)}),{}),console.log("Get portfolio API :",s),I(s.MintboxConsolidated.length+s.ETFConsolidated.length+s.FundsConsolidated.length!==0),e.next=13,u.Z.set(u.Z.model.portfolio,JSON.stringify(s));case 13:e.next=16;break;case 15:I(t.MintboxConsolidated.length+t.ETFConsolidated.length+t.FundsConsolidated.length!==0);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,f.Z.getPortfolioReport(Z.id).then((function(e){return e}));case 3:n=e.sent,console.log(n),n.type?(window.open(n.data.Report_URL),p.Am.success("Report downloaded"),S(!1)):(p.Am.error("Report not found"),S(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,f.Z.getTransactionReport(Z.id).then((function(e){return e}));case 3:n=e.sent,console.log(n),n.type?(window.open(n.data.Report_URL),p.Am.success("Report downloaded"),S(!1)):(p.Am.error("Report not found"),S(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{className:"mainContainer",children:[(0,y.jsx)(d.Z,{header:"Menu",right:"What are mintboxes?",rightAction:function(){},navigation:e.history}),E?(0,y.jsx)(h.Z,{}):(0,y.jsxs)("div",{className:"dataContainer px-0",children:[(0,y.jsx)(l.Z,{}),_?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"menu-card",children:[(0,y.jsx)("img",{src:v.r2+"menu_report.webp",className:"menu-card-icon"}),(0,y.jsxs)("div",{className:"menu-card-body",children:[(0,y.jsx)("div",{className:"bodyTextDark",children:"Portfolio report"}),(0,y.jsxs)("div",{className:"header2dark secondaryGreen",onClick:function(){return P()},children:["Tap to download ",(0,y.jsx)(m.Td4,{size:12})]})]})]}),(0,y.jsxs)("div",{className:"menu-card",children:[(0,y.jsx)("img",{src:v.r2+"menu_report.webp",className:"menu-card-icon"}),(0,y.jsxs)("div",{className:"menu-card-body",children:[(0,y.jsx)("div",{className:"bodyTextDark",children:"Transaction report"}),(0,y.jsxs)("div",{className:"header2dark secondaryGreen",onClick:function(){return F()},children:["Tap to download ",(0,y.jsx)(m.Td4,{size:12})]})]})]})]}):(0,y.jsxs)("div",{style:{display:"flex",padding:"4%",margin:"4%",border:"1px solid "+c.Z.getPropertyValue("--light"),borderRadius:"8px",backgroundColor:c.Z.getPropertyValue("--lightest")},children:[(0,y.jsxs)("div",{className:"bodyTextLight",style:{flex:1},children:["Your reports will be available once you ",(0,y.jsx)("span",{className:"secondaryGreen",onClick:function(){return e.history.push("/Invest")},children:"start investing"})]}),(0,y.jsx)("img",{src:v.r2+"menu_report.webp",width:30,height:30,style:{margin:"2% 4%"}})]})]}),(0,y.jsx)(x.Z,{style:{color:"#fff",zIndex:1021},open:R,children:(0,y.jsx)(h.Z,{})})]})}},5221:function(e,n,t){var r=t(7462),o=t(5987),i=t(2791),a=t(8182),s=t(9015),c=t(5120),u=i.forwardRef((function(e,n){var t=e.children,s=e.classes,u=e.className,d=e.invisible,l=void 0!==d&&d,p=e.open,f=e.transitionDuration,m=e.TransitionComponent,x=void 0===m?c.Z:m,h=(0,o.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return i.createElement(x,(0,r.Z)({in:p,timeout:f},h),i.createElement("div",{className:(0,a.Z)(s.root,u,l&&s.invisible),"aria-hidden":!0,ref:n},t))}));n.Z=(0,s.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(u)},5120:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(7462),o=t(9439),i=t(5987),a=t(2791),s=t(8875),c=t(812),u=t(5522),d=t(12);function l(e,n){var t=e.timeout,r=e.style,o=void 0===r?{}:r;return{duration:o.transitionDuration||"number"===typeof t?t:t[n.mode]||0,delay:o.transitionDelay}}var p=t(9806),f={entering:{opacity:1},entered:{opacity:1}},m={enter:c.x9.enteringScreen,exit:c.x9.leavingScreen},x=a.forwardRef((function(e,n){var t=e.children,c=e.disableStrictModeCompat,x=void 0!==c&&c,h=e.in,v=e.onEnter,y=e.onEntered,Z=e.onEntering,g=e.onExit,b=e.onExited,w=e.onExiting,j=e.style,k=e.TransitionComponent,E=void 0===k?s.ZP:k,C=e.timeout,T=void 0===C?m:C,N=(0,i.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),R=(0,u.Z)()||d.Z,S=R.unstable_strictMode&&!x,A=a.useRef(null),D=(0,p.Z)(t.ref,n),_=(0,p.Z)(S?A:void 0,D),I=function(e){return function(n,t){if(e){var r=S?[A.current,n]:[n,t],i=(0,o.Z)(r,2),a=i[0],s=i[1];void 0===s?e(a):e(a,s)}}},M=I(Z),P=I((function(e,n){!function(e){e.scrollTop}(e);var t=l({style:j,timeout:T},{mode:"enter"});e.style.webkitTransition=R.transitions.create("opacity",t),e.style.transition=R.transitions.create("opacity",t),v&&v(e,n)})),F=I(y),z=I(w),G=I((function(e){var n=l({style:j,timeout:T},{mode:"exit"});e.style.webkitTransition=R.transitions.create("opacity",n),e.style.transition=R.transitions.create("opacity",n),g&&g(e)})),L=I(b);return a.createElement(E,(0,r.Z)({appear:!0,in:h,nodeRef:S?A:void 0,onEnter:P,onEntered:F,onEntering:M,onExit:G,onExited:L,onExiting:z,timeout:T},N),(function(e,n){return a.cloneElement(t,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==e||h?void 0:"hidden"},f[e],j,t.props.style),ref:_},n))}))}))},9199:function(e,n,t){function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(n,{Z:function(){return r}})},3433:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(907);var o=t(9199),i=t(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=3017.89bc6256.chunk.js.map