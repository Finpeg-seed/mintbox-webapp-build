{"version":3,"file":"static/js/3776.3456166a.chunk.js","mappings":"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","sources":["views/mobileView/components/atoms/CountDown.js","views/mobileView/screens/mintboxpro/AuthScreen/LoginOTPScreen.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport { AiOutlineRight } from 'react-icons/ai';\n\nexport default function CountDown({ style, totalTime, onClick, dir }) {\n    // const { dir = 'down', style = {}, onClick = () => {}, time } = props;\n    let time = totalTime;\n    const [sec, setSec] = React.useState('00');\n    const [min] = React.useState('00');\n\n    const timify = (t) => {\n        t /= 1000;\n        if (t >= 0) {\n            if (t > 60) {\n                t = '00';\n            }\n            if (t <= 9) {\n                t = `0${t}`;\n            }\n            return t;\n        }\n        return '00';\n    };\n\n    React.useEffect(() => {\n        setSec(timify(time))\n        timer();\n    }, []);\n\n    const timer = () => {\n        setInterval(() => {\n            if (time >= 0) {\n                if (dir === 'down') {\n                    time -= 1000;\n                }\n                if (dir === 'up') {\n                    time += 1000;\n                }\n                setSec(timify(time));\n            }\n        }, 1000);\n    };\n\n    const resetTimer = () => {\n        setInterval(() => {\n            if (time >= 0) {\n                if (dir === 'down') {\n                    time -= 1000;\n                }\n                if (dir === 'up') {\n                    time += 1000;\n                }\n                setSec(timify(time));\n            }\n        }, 1000);\n    };\n\n    if (`${min}:${sec}` !== '00:00') {\n        return (\n            <div style={{ fontSize: \"14px\", fontWeight: \"400\", color: \"#333333\", marginTop: \"6%\" }}>Resend in {`${min}:${sec}`}</div>\n        );\n    }\n    return (\n        <div\n            className='header2dark secondaryGreen'\n            style={{ marginTop: \"6%\" }}\n            onClick={() => {\n                resetTimer();\n                onClick();\n            }}\n        >\n            Resend OTP <AiOutlineRight style={{ verticalAlign: \"unset\" }} size={10} />\n        </div>\n    );\n}\n","import db from 'libs/db';\nimport React from 'react';\nimport { AiOutlineRight } from 'react-icons/ai';\nimport { toast } from 'react-toastify';\nimport FloatingTextInput from 'views/mobileView/components/atoms/FloatingTextInput';\nimport CountDown from 'views/mobileView/components/atoms/CountDown';\nimport AuthHeader from 'views/mobileView/components/molecules/Headers/AuthHeader';\nimport AdminServices from 'services/api/AdminServices';\n\nexport default function LoginOTPScreen(props) {\n\n\tconst [otp, setOtp] = React.useState('');\n\tconst [invalidOTP, setinvalidOTP] = React.useState(false);\n\tconst [mainOTP, setmainOTP] = React.useState('');\n\tconst { state } = props.location\n\n\tReact.useEffect(async () => {\n\t\tif (state === null || state === undefined) {\n\t\t\tprops.history.push('/signup')\n\t\t} else {\n\t\t\tsendOTP();\n\t\t}\n\t}, [])\n\tconst validateInput = () => {\n\t\treturn otp.length === 6\n\t}\n\n\tReact.useEffect(() => {\n\t\tif(otp.length === 6){\n\t\t\tonNextBtnPressed()\n\t\t}\n\t},[otp])\n\n\tconst onNextBtnPressed = () => {\n\t\tif (otp === `${mainOTP}` && mainOTP !== '') {\n\t\t\tconst userData = {\n\t\t\t\tname: state.ClientName,\n\t\t\t\temail: state.Email,\n\t\t\t\tmobile: state.MobileNumber,\n\t\t\t\tid: state.ClientId,\n\t\t\t\tisLogged: true,\n\t\t\t};\n\t\t\tdb.set(db.model.user, JSON.stringify({ userData }));\n\t\t\tprops.history.push({\n\t\t\t\tpathname: '/dashboard',\n\t\t\t\tstate: { ...state }\n\t\t\t})\n\t\t} else {\n\t\t\tsetinvalidOTP(true);\n\t\t}\n\t}\n\n\n\tconst sendOTP = async () => {\n\t\ttry {\n\t\t\tsetmainOTP('')\n\t\t\tconst res = await AdminServices.login(state.ClientId).then(res => res)\n\t\t\tif (res.type) {\n\t\t\t\tif (res.data.Result === 'success') {\n\t\t\t\t\tsetmainOTP(res.data.otpcode);\n\t\t\t\t} else {\n\t\t\t\t\ttoast.error(\"Try again ...\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoast.error(\"Try again ...\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\ttoast.error(\"Try again ...\");\n\t\t}\n\t};\n\n\tconst resendOTP = () => {\n\t\tsetinvalidOTP(false);\n\t\tsetOtp('')\n\t\tsendOTP();\n\t}\n\n\tconst mask = (text,type) => {\n\t\tif(type==='phone'){\n\t\t\treturn text.slice(0,3) + '*****' + text.slice(-2)\n\t\t} else{\n\t\t\tconst a = text.split('@')\n\t\t\treturn a[0].slice(0,2) + '*****@' + a[1]\n\t\t}\n\t}\n\treturn (\n\t\t<div className=\"mainContainer\">\n\t\t\t<AuthHeader navigation={props.history} left='back' />\n\t\t\t<div className=\"dataContainer\">\n\t\t\t\t<div className='login-header'>\n\t\t\t\t\t<div className=\"bigHeader\">{\"Welcome Back, \" + state.ClientName + \"!\"}</div>\n\t\t\t\t\t<div className=\"bodyTextDark\" style={{ marginTop: \"6px\" }}>Please enter OTP received on {mask(state.Email,'email')} and {mask(state.MobileNumber,'phone')}</div>\n\t\t\t\t</div>\n\t\t\t\t<FloatingTextInput\n\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\tid=\"typepass\"\n\t\t\t\t\tlabel=\"OTP\"\n\t\t\t\t\tstyle={{ letterSpacing: '16px' }}\n\t\t\t\t\tautoFocus\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetinvalidOTP(false)\n\t\t\t\t\t\tconst n = e.target.value.replace(/\\D/g, '')\n\t\t\t\t\t\tsetOtp(n)\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={otp}\n\t\t\t\t\tmaxLength={6}\n\t\t\t\t/>\n\t\t\t\t{invalidOTP ? (\n\t\t\t\t\t<div className=\"errorMsg\">\n\t\t\t\t\t\tIncorrect OTP. Try again!\n\t\t\t\t\t</div>\n\t\t\t\t) : ''}\n\t\t\t\t<CountDown totalTime={30000} dir=\"down\" onClick={() => { resendOTP() }} />\n\t\t\t</div>\n\t\t\t<div className=\"login-footer\">\n\t\t\t\t<button className=\"solidButton\" style={{ opacity: validateInput() ? 1 : 0.4 }}\n\t\t\t\t\tonClick={() => { validateInput() && onNextBtnPressed() }}>\n\t\t\t\t\tLogin <AiOutlineRight size={12} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n"],"names":["CountDown","style","totalTime","onClick","dir","time","React","sec","setSec","min","timify","t","timer","setInterval","fontSize","fontWeight","color","marginTop","className","verticalAlign","size","LoginOTPScreen","props","otp","setOtp","invalidOTP","setinvalidOTP","mainOTP","setmainOTP","state","location","undefined","history","push","sendOTP","validateInput","length","onNextBtnPressed","userData","name","ClientName","email","Email","mobile","MobileNumber","id","ClientId","isLogged","db","JSON","stringify","pathname","AdminServices","then","res","type","data","Result","otpcode","toast","mask","text","slice","a","split","navigation","left","label","letterSpacing","autoFocus","onChange","e","n","target","value","replace","maxLength","opacity"],"sourceRoot":""}