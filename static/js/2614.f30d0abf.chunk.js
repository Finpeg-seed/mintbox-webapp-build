"use strict";(self.webpackChunkmintbox_app=self.webpackChunkmintbox_app||[]).push([[2614],{1036:function(e,t,n){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r="";try{r=new Date(e.replace(" ","T"))}catch(c){r=new Date(e)}if(isNaN(r.getTime()))return e;var a=new Array;a[0]="Jan",a[1]="Feb",a[2]="Mar",a[3]="Apr",a[4]="May",a[5]="Jun",a[6]="Jul",a[7]="Aug",a[8]="Sep",a[9]="Oct",a[10]="Nov",a[11]="Dec";var i=r.getDate();i<10&&(i="0"+i);var s=r.getHours(),o=r.getMinutes(),l=s>=12?"pm":"am",d=(s=(s%=12)||12,o=o<10?"0"+o:o,"date"===t?a[r.getMonth()]+n+r.getFullYear():i+n+a[r.getMonth()]+n+r.getFullYear());return d}function a(e,t){return e.setMonth(e.getMonth()+t),e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)return r(new Date(a(new Date((new Date).getFullYear(),(new Date).getMonth(),e),t)).toISOString());var n=new Date,i=new Date(a(new Date((new Date).getFullYear(),(new Date).getMonth(),e),1)),s=Math.abs(i-n),o=Math.ceil(s/864e5);return r(o<27?new Date(a(new Date((new Date).getFullYear(),(new Date).getMonth(),e),2)).toISOString():new Date(a(new Date((new Date).getFullYear(),(new Date).getMonth(),e),1)).toISOString())}n.d(t,{Ux:function(){return i},p6:function(){return r}})},2614:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(1413),a=n(4165),i=n(5861),s=n(9439),o=n(8848),l=n(2791),d=n(6960),c=n(6825),u=n(81),p=n(3411),h=n(2102),f=n(7811),x=n(9657),m=n(4614),v=n(8617),y=n(71),g=n(8820),Z=n(9126),j=n(1974),b=n(4561),N=n(4982),w=n(432),k=n(5803),D=n(389),S=n(1036),T=n(184);function F(e){var t,n,F,P,C,I=l.useState(!0),A=(0,s.Z)(I,2),M=A[0],O=A[1],V=l.useState(!1),B=(0,s.Z)(V,2),R=B[0],L=B[1],G=l.useState(!1),J=(0,s.Z)(G,2),E=J[0],Y=J[1],X=l.useState({}),z=(0,s.Z)(X,2),H=z[0],U=z[1],_=l.useState({}),W=(0,s.Z)(_,2),q=W[0],K=W[1],Q=l.useState({}),$=(0,s.Z)(Q,2),ee=$[0],te=$[1],ne=l.useState([]),re=(0,s.Z)(ne,2),ae=re[0],ie=re[1],se=l.useState({}),oe=(0,s.Z)(se,2),le=(oe[0],oe[1]),de=e.location.state.FUNDCODE,ce=e.location.state.FOLIO,ue=e.location.state.FUNDDATA;l.useEffect((function(){pe()}),[]);var pe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0);try{o.Z.get(o.Z.model.user).then(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(t.userData),e.next=3,he(t.userData.id);case 3:return e.next=5,xe(t.userData.id);case 5:return e.next=7,fe(t.userData.id);case 7:return e.next=9,me(t.userData.id);case 9:O(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){d.Am.error(t),O(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.Z.get(o.Z.model.portfolio).then(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var i,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=14;break}return e.next=3,u.Z.getPortfolio(t).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=12;break}return e.next=7,JSON.parse(i.data);case 7:s=e.sent,l=s.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{}),console.log("Get portfolio API :",l),U(l),o.Z.set(o.Z.model.portfolio,JSON.stringify(l));case 12:e.next=15;break;case 14:U(n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.Z.get(o.Z.model.portfolioPerformance).then(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var i,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=14;break}return e.next=3,u.Z.getPortfolioPerformance(t).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=12;break}return e.next=7,JSON.parse(i.data);case 7:s=e.sent,l=s.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{}),console.log("Get portfolioPerformance API :",l),K(l),o.Z.set(o.Z.model.portfolioPerformance,JSON.stringify(l));case 12:e.next=15;break;case 14:K(n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.Z.get(o.Z.model.portfolioXirr).then(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var i,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=14;break}return e.next=3,u.Z.getPortfolioXIRR(t).then((function(e){return e}));case 3:if(!0!==(i=e.sent).type){e.next=12;break}return e.next=7,JSON.parse(i.data);case 7:s=e.sent,l=s.reduce((function(e,t){return(0,r.Z)((0,r.Z)({},e),t)}),{}),console.log("Get portfolio XIRR API :",l),te(l),o.Z.set(o.Z.model.portfolioXirr,JSON.stringify(l));case 12:e.next=15;break;case 14:te(n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.Z.get(o.Z.model.transactions).then(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=7;break}return e.next=3,u.Z.getTransactions(t).then((function(e){return e}));case 3:!0===(r=e.sent).type&&(i=r.data,console.log("Get transactions API :",i),ie(i),o.Z.set(o.Z.model.transactions,JSON.stringify(i))),e.next=8;break;case 7:ie(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.remove(o.Z.model.portfolio);case 2:return e.next=4,o.Z.remove(o.Z.model.portfolioXirr);case 4:return e.next=6,o.Z.remove(o.Z.model.portfolioPerformance);case 6:return e.next=8,o.Z.remove(o.Z.model.assetAllocation);case 8:return e.next=10,o.Z.remove(o.Z.model.transactions);case 10:pe();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var t=l.useState(),n=(0,s.Z)(t,2),r=n[0],a=n[1];return(0,T.jsxs)(c.Z,{className:"bottom-drawer",show:R,onHide:function(){return L(!1)},keyboard:!1,children:[(0,T.jsxs)(c.Z.Body,{children:[(0,T.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,T.jsx)("input",{type:"radio",name:"fund",onChange:function(e){a(e.target.value)},value:"sip",id:"sip"}),(0,T.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"sip",children:"Start a SIP"})]}),(0,T.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,T.jsx)("input",{type:"radio",name:"fund",onChange:function(e){a(e.target.value)},value:"redeem",id:"redeem"}),(0,T.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"redeem",style:{color:f.Z.getPropertyValue("--peach")},children:"Redeem"})]})]}),(0,T.jsxs)(c.Z.Footer,{children:[(0,T.jsx)("button",{className:"outlineButton",onClick:function(){return L(!1)},children:"Close"}),(0,T.jsx)("button",{className:"solidButton",onClick:function(){return function(){switch(r){case"redeem":e.history.push({pathname:"/portfolio/redeem-mf",state:{fundData:ue}}),L(!1);break;case"sip":L(!1),e.history.push({pathname:"/portfolio/confirm-invest",state:{fundData:ue,type:1,sip:!0}});break;default:L(!1)}}()},children:"Confirm"})]})]})},ge=function(){var e=l.useState(),t=(0,s.Z)(e,2),n=(t[0],t[1]);return(0,T.jsxs)(c.Z,{className:"bottom-drawer",show:E,onHide:function(){return Y(!1)},keyboard:!1,children:[(0,T.jsxs)(c.Z.Body,{children:[(0,T.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,T.jsx)("input",{type:"radio",name:"fund",onChange:function(e){n(e.target.value)},value:"editAmount",id:"editAmount"}),(0,T.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"editAmount",children:"Edit SIP amount"})]}),(0,T.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,T.jsx)("input",{type:"radio",name:"fund",onChange:function(e){n(e.target.value)},value:"editDate",id:"editDate"}),(0,T.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"editDate",children:"Edit SIP date"})]}),(0,T.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,T.jsx)("input",{type:"radio",name:"fund",onChange:function(e){n(e.target.value)},value:"pauseSip",id:"pauseSip"}),(0,T.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"pauseSip",children:"Pause SIP"})]}),(0,T.jsxs)("div",{className:"radio-item",style:{marginTop:"6%"},children:[(0,T.jsx)("input",{type:"radio",name:"fund",onChange:function(e){n(e.target.value)},value:"stopSip",id:"stopSip"}),(0,T.jsx)("label",{className:"bodyTextDark radio-label",htmlFor:"stopSip",style:{color:f.Z.getPropertyValue("--peach")},children:"Stop SIP"})]})]}),(0,T.jsxs)(c.Z.Footer,{children:[(0,T.jsx)("button",{className:"outlineButton",onClick:function(){return Y(!1)},children:"Close"}),(0,T.jsx)("button",{className:"solidButton",onClick:function(){Y(!1)},children:"Confirm"})]})]})},Ze=[{title:"SIPs",view:function(){var t,n;return(0,T.jsx)("div",{style:{marginTop:"2%"},children:0===(null===H||void 0===H||null===(t=H.ScheduledOrders)||void 0===t?void 0:t.filter((function(e){return e.FundCode===de&&e.FolioNumber===ce})).length)?(0,T.jsx)(N.Z,{text:"You don't have any active SIPs",buttonText:"Start SIP now",onClick:function(){e.history.push({pathname:"/portfolio/confirm-invest",state:{fundData:ue,type:2,sip:!0}})}}):null===H||void 0===H||null===(n=H.ScheduledOrders)||void 0===n?void 0:n.filter((function(e){return e.FundCode===de&&e.FolioNumber===ce})).map((function(e,t){return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{style:{padding:"4%",borderBottom:"1px solid "+f.Z.getPropertyValue("--light")},children:[(0,T.jsxs)("div",{className:"chip-sip",style:{marginBottom:"1%"},children:[(0,T.jsx)(Z.riV,{size:24,color:1===e.IsDeleted?f.Z.getPropertyValue("--red"):0===e.IsActive?f.Z.getPropertyValue("--gold"):f.Z.getPropertyValue("--secondaryGreen"),style:{marginLeft:"-10px"}}),1===e.IsDeleted?"Stopped":0===e.IsActive?"Paused":"Active"]}),(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsxs)("div",{className:"smallTextLight",style:{marginBottom:"1%"},children:[(0,j.Z)(e.OrderDate)," of every month"]}),(0,T.jsx)("div",{className:"header1dark",children:(0,p.A)(e.Amount)})]}),(0,T.jsxs)("div",{className:"header2dark secondaryGreen",onClick:function(){return Y(!0)},children:["Modify ",(0,T.jsx)(g.cuw,{size:12})]})]})]},t)})}))})}(),show:!0},{title:"STPs",view:(0,T.jsx)("div",{}),show:!1},{title:"SWPs",view:(0,T.jsx)("div",{}),show:!1},{title:"Transactions",view:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(w.Z,{type:"transactionMF"}),(0,T.jsx)("div",{style:{marginTop:"2%"},children:ae.filter((function(e){return 2===e.FundType&&e.FundCode===de&&e.FolioNumber===ce})).reverse().map((function(e,t){return(0,T.jsx)(k.Z,{trx:e,i:t,type:2})}))})]}),show:!0},{title:"More info.",view:(0,T.jsxs)("div",{style:{marginTop:"2%"},children:[(0,T.jsxs)("div",{style:{display:"flex",padding:"4%",borderBottom:"1px solid "+f.Z.getPropertyValue("--light")},children:[(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsx)("div",{className:"smallTextLight",children:"Folio number"}),(0,T.jsx)("div",{className:"bodyTextDark",children:ce})]}),(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsx)("div",{className:"smallTextLight",children:"Category"}),(0,T.jsx)("div",{className:"bodyTextDark",children:"No data"})]})]}),(0,T.jsxs)("div",{style:{display:"flex",padding:"4%",borderBottom:"1px solid "+f.Z.getPropertyValue("--light")},children:[(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsx)("div",{className:"smallTextLight",children:"Units owned"}),(0,T.jsx)("div",{className:"bodyTextDark",children:null===ue||void 0===ue?void 0:ue.Units})]}),(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsx)("div",{className:"smallTextLight",children:"Exit load free units"}),(0,T.jsx)("div",{className:"bodyTextDark",children:"No data"})]})]}),(0,T.jsx)("div",{style:{display:"flex",padding:"4%",borderBottom:"1px solid "+f.Z.getPropertyValue("--light")},children:(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsx)("div",{className:"smallTextLight",children:"Exit load"}),(0,T.jsx)("div",{className:"bodyTextDark",children:null===ue||void 0===ue?void 0:ue.ExitLoad})]})})]}),show:!0}];return M?(0,T.jsx)(b.Z,{}):(0,T.jsxs)("div",{className:"mainContainer",children:[(0,T.jsx)(h.Z,{navigation:e.history,header:"Mutual fund"}),(0,T.jsxs)("div",{className:"dataContainer px-0",children:[(0,T.jsx)("div",{style:{margin:"4% 4% 2%"},children:(0,T.jsxs)("div",{style:{display:"flex",gap:"4%"},children:[(0,T.jsx)(D.Z,{amcName:null===ue||void 0===ue?void 0:ue.AMCName,width:"40px",height:"40px"}),(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsx)("div",{className:"header1dark",children:null===ue||void 0===ue?void 0:ue.SchemeName}),(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{className:"smallTextLight",children:"NAV "}),(0,T.jsx)("span",{className:"smallTextDark",children:(0,p.A)(null===ue||void 0===ue?void 0:ue.NAV,"long",2)})]})]}),(0,T.jsx)(v.Hi9,{size:24,className:"secondaryGreen",onClick:function(){return e.history.push("/fund-detail/"+de)},style:{alignSelf:"center"}})]})}),null!==ue&&void 0!==ue&&ue.NAVDate?(0,T.jsx)("div",{style:{position:"relative"},children:(0,T.jsxs)("span",{style:{position:"absolute",right:"8%",top:"40px"},className:"smallTextLight",children:["Nav as of ",(0,S.p6)(null===ue||void 0===ue?void 0:ue.NAVDate)]})}):(0,T.jsx)(T.Fragment,{}),(0,T.jsx)(m.Z,{navigation:e.history,balance:null===ue||void 0===ue?void 0:ue.MFBalance,previousBalance:null===(t=H.PrevFundsConsolidated)||void 0===t||null===(n=t.find((function(e){return e.FundCode===de&&e.FolioNumber===ce})))||void 0===n?void 0:n.PrevMFBalance,xirr:null===(F=ee.MFXIRR[de+":"+ce])||void 0===F?void 0:F.XIRR,onRefresh:function(){ve()},growthChartData:null===q||void 0===q||null===(P=q.MutualFund)||void 0===P||null===(C=P.filter((function(e){return e.FundCode===de&&e.FolioNumber===ce})))||void 0===C?void 0:C.map((function(e){return[new Date(e.NavDateStr).getTime(),e.Balance]}))}),(0,T.jsx)(x.Z,{tabsObject:Ze.filter((function(e){return e.show})),color:f.Z.getPropertyValue("--darkGreen")})]}),(0,T.jsxs)("div",{className:"bottom-nav",children:[(0,T.jsxs)("div",{className:"bn-tab",onClick:function(){e.history.push("/dashboard")},children:[(0,T.jsx)(v.VRM,{size:20,className:"footerIcon"}),(0,T.jsx)("div",{className:"footerText",children:"Home"})]}),(0,T.jsx)("div",{className:"bn-tab",style:{flex:3},children:(0,T.jsx)("button",{className:"solidButton",onClick:function(){return e.history.push({pathname:"/portfolio/confirm-invest",state:{fundData:ue,type:2}})},children:"Invest more"})}),(0,T.jsx)("div",{className:"bn-tab",children:(0,T.jsx)(y.bwG,{size:"48",color:f.Z.getPropertyValue("--secondaryGreen"),onClick:function(){return L(!0)}})})]}),(0,T.jsx)(ye,{}),(0,T.jsx)(ge,{})]})}},432:function(e,t,n){var r=n(4942),a=n(1413),i=n(9439),s=n(8848),o=n(2791),l=n(8820),d=n(7811),c=n(184);t.Z=function(e){var t=e.type,n=e.goalDate,u=o.useState({}),p=(0,i.Z)(u,2),h=p[0],f=p[1];o.useEffect((function(){s.Z.get(s.Z.model.dismissNotes).then((function(e){f(e)}))}),[]);var x="etf"===t?{header:"Important",body:"Only ETFs invested in independently (and not as a part of a mintbox) are shown below"}:"transactionETF"===t||"transactionMF"===t?{header:"Note",body:"Transactions initiated on mintbox are shown below. Transactions initiated on other apps will not appear."}:"goal"===t?{header:"",body:"You planned for this goal on "+new Date(n).toDateString()}:{};return null!==h&&void 0!==h&&h[t]?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)("div",{style:{padding:"4%",borderBottom:"1px solid "+d.Z.getPropertyValue("--light")},onClick:function(){return f((0,a.Z)((0,a.Z)({},h),{},(0,r.Z)({},t,!0))),void s.Z.set(s.Z.model.dismissNotes,JSON.stringify((0,a.Z)((0,a.Z)({},h),{},(0,r.Z)({},t,!0))))},children:(0,c.jsxs)("div",{style:{padding:"2% 4%",backgroundColor:d.Z.getPropertyValue("--moderateRisk"),borderRadius:"8px"},children:[(0,c.jsx)("div",{className:"header2dark",children:x.header}),(0,c.jsx)("div",{className:"smallTextLight",style:{margin:"2px 0"},children:x.body}),(0,c.jsxs)("div",{className:"header3dark secondaryGreen",children:[" Tap to dismiss ",(0,c.jsx)(l.Td4,{size:12})]})]})})}}}]);
//# sourceMappingURL=2614.f30d0abf.chunk.js.map